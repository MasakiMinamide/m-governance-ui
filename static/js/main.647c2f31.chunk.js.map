{"version":3,"sources":["Certificate/pkijshelpers.tsx","Type.ts","HomepageLayout.js","Menu/MenuBar.tsx","Menu/Footer.tsx","Transfer/Balances.tsx","Menu/NodeInfo.tsx","Transfer/Transfer.tsx","Vote/createVote.tsx","Vote/VoteListings.tsx","Vote/castBallot.tsx","Vote/concludeVote.tsx","Vote/ResultChart.tsx","Vote/VoteView.tsx","Certificate/Provider.tsx","Certificate/Register.tsx","Certificate/RegisterCA.tsx","Certificate/CAListings.tsx","Certificate/Certificate.tsx","Tutorial/SideBar.tsx","Tutorial/Docs/Home.tsx","Tutorial/Tutorial.tsx","Certificate/CertificateView.tsx","Vote/ChainInfo.tsx","index.tsx","App.tsx","Vote/helper.tsx","images/headerImage.jpg","images/image-01.jpg","images/logo.png"],"names":["pkiJS","require","asn1js","createPKIJSCertificate","pem","certArrayBuffer","pemString","buffer","Buffer","from","Uint8Array","convertPemToArrayBuffer","removePemArmoring","asn1data","fromBER","Certificate","schema","result","replace","trim","types","getWidth","window","Responsive","onlyTablet","minWidth","innerWidth","headerStyle","backgroundImage","headerImage","backgroundSize","backgroundPosition","HomepageHeading","mobile","Container","text","Header","as","content","inverted","style","fontSize","fontWeight","marginBottom","marginTop","to","Button","primary","size","Icon","name","DesktopContainer","state","hideFixedMenu","setState","fixed","showFixedMenu","children","this","props","Visibility","once","onBottomPassed","onBottomPassedReverse","Segment","textAlign","minHeight","padding","vertical","Component","MobileContainer","handleSidebarHide","sidebarOpened","handleToggle","Sidebar","Pushable","maxWidth","onlyMobile","ResponsiveContainer","HomepageLayout","Grid","container","stackable","verticalAlign","Row","Column","width","floated","Image","bordered","rounded","src","image1","celled","columns","paddingBottom","paddingTop","Divider","className","horizontal","margin","textTransform","href","MenuBar","useState","activeItem","setActiveItem","handleItemClick","e","Menu","fluid","widths","Item","Link","active","onClick","Input","icon","placeholder","Footer","divided","List","link","target","Balances","api","accounts","keyring","getPairs","addresses","map","account","address","accountNames","meta","balances","setBalances","useEffect","unsubscribeAll","query","freeBalance","multi","currentBalances","balancesMap","reduce","acc","index","toString","then","unsub","catch","console","error","Table","striped","HeaderCell","Body","key","Cell","NodeInfo","blockNumber","chain","nodeName","nodeVersion","nodeInfo","setNodeInfo","Promise","all","rpc","system","version","colums","circular","centered","logo","Transfer","header","success","warning","message","setMessage","addressFrom","addressTo","amount","formState","setFormState","keyringOptions","value","toUpperCase","onChange","_","data","Form","Field","Dropdown","label","search","selection","options","type","fromPair","getPair","tx","transfer","signAndSend","status","isFinalized","asFinalized","Message","helper","voteTypeOptions","popup","borderRadius","opacity","CreateVote","voteType","expLength","approved","vals","setVals","caOptions","setCaOptions","FormState","onChangeOption","prev","unsubscribe","certificateModule","cAData","dataList","parseInt","hex2a","count","setCount","onClickOption","newVals","Group","Popup","trigger","on","disabled","negative","Array","keys","x","val","i","Object","values","governanceModule","createVote","VoteListings","voteCountState","setVoteCountState","votes","setVotes","arrayState","setArrayState","allVoteCount","words","voteArray","votesByIndex","vote","id","vote_type","creator","when","vote_ends","concluded","typeOfVote","color","bool","CastBallot","initialState","reference_id","ballot","ballotOptions","v","castBallotWithOptions","ConcludeVote","isExpired","isConcluded","isSelected","clickable","setClickable","concludeVote","isDisabled","ResultChart","labels","datasets","length","backgroundColor","hoverBackgroundColor","VoteView","useParams","voteState","setVoteState","optionState","setOptionState","setAccounts","panes","menuItem","render","Tab","Pane","voteView","a","async","queryMulti","voteOptions","getAccounts","optionArr","accountsByOption","float","paddingLeft","clear","listStyleType","option","menu","jwkToPem","utils","Provider","ws","wsReady","selectedProvider","setSelectedProvider","providerOptions","setProviderOptions","providers","setProviders","items","setItems","fillProviders","info","oldValues","atr","getItems","providerId","getCrypto","crypto","reset","isLoggedIn","login","certStorage","indexes","getItem","item","publicKey","subjectName","keyStorage","algorithm","connect","challenge","pin","setTimeout","alert","cardReader","provider","preventDefault","parts","split","exportCert","subtle","exportKey","jwk","hex","Convert","ToHex","log","downloadItem","Dimmer","Loader","Register","CAOptions","setStatus","certificateIndex","hexThumbSignature","privateKeyIndex","CAIndex","certificateOptions","setCertificateOptions","verified","validated","requirements","setRequirements","validateStatus","setValidateStatus","verify","signature","GetCertificateKey","alg","hash","spki","importKey","rsassaPublicKey","ok","privateKeys","getKey","push","getCert","certs","keyId","keyParts","cert","certParts","GetCommonName","certID","keyIDs","keyID","getColor","privateKey","FromUtf8String","sign","rawSignature","digest","thumbSignature","whiteSpace","userPem","userRaw","cAStore","caPem2","caRaw","chainValidator","CertificateChainValidationEngine","trustedCerts","resultCode","resultMessage","rawCert","thumbCert","hexThumbCert","caPem","tbs","thumbCA","hexThumbCA","registerAccount","res","exec","RegisterCA","control","TextArea","rawCA","unarmored","registerCa","CAListings","caCount","setCaCount","hashState","setHashState","cAHashes","caHashes","urls","setWs","setWsReady","tag","document","createElement","getElementsByTagName","appendChild","ca_data","WebcryptoSocket","init","SocketProvider","BrowserStorage","create","storage","SideBar","Home","lineHeight","Tutorial","getDoc","pemStyle","height","border","font","overflow","CertificateView","setData","setPem","setRawCA","accountsByCAHash","cADataByIndex","hexPem","notBefore","notAfter","issuer","typesAndValues","valueBlock","styles","number","ul","detailsOl","details","summary","string","ChainInfo","timer","useRef","prevBlock","setPrevBlock","messages","setMessages","current","events","contents","forEach","record","event","phase","typeDef","section","method","documentation","block","newMessages","slice","marginLeft","ref","Seconds","ReactDOM","setApi","apiReady","setApiReady","setBlockNumber","WsProvider","ApiPromise","isReady","loadAll","isDevelopment","subscribeNewHeads","path","getElementById","hexx","str","substr","String","fromCharCode","module","exports"],"mappings":"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","file":"static/js/main.647c2f31.chunk.js","sourcesContent":["const pkiJS = require(\"pkijs\");\nconst asn1js = require(\"asn1js\");\n\nconst createPKIJSCertificate = (pem: string) => {\n  const certArrayBuffer = convertPemToArrayBuffer(removePemArmoring(pem));\n  const asn1data = asn1js.fromBER(certArrayBuffer);\n  return new pkiJS.Certificate({ schema: asn1data.result });\n};\n\nfunction removePemArmoring(pemString: string) {\n  const result = pemString.replace(\n    /((\\n|\\r)?-----BEGIN CERTIFICATE-----(\\n|\\r)?|(\\n|\\r)?-----END CERTIFICATE-----(\\n|\\r)?)/g,\n    \"\"\n  );\n  return result.trim();\n}\n\nfunction convertPemToArrayBuffer(pemString: string) {\n  const buffer = Buffer.from(pemString, \"base64\");\n\n  return new Uint8Array(buffer).buffer;\n}\n\nexport {createPKIJSCertificate, removePemArmoring};","const types ={\n  \"ReferenceIndex\": \"u64\",\n  \"data\": \"Vec<u8>\",\n  \"Vote\": {\n    \"id\": \"u64\",\n    \"vote_type\": \"u8\",\n    \"approved\": \"Hash\",\n    \"creator\": \"AccountId\",\n    \"when\": \"BlockNumber\",\n    \"vote_ends\": \"BlockNumber\",\n    \"concluded\": \"bool\"\n  },\n  \"LockInfo\": {\n    \"deposit\": \"BalanceOf\",\n    \"duration\": \"BlockNumber\",\n    \"until\": \"BlockNumber\"\n  },\n  \"Ballot\": {\n    \"_enum\": [\n      \"Aye\",\n      \"Nay\"\n    ]\n  },\n  \"Certification\": {\n    \"cert\": \"Hash\",\n    \"signature\": \"Hash\"\n  },\n  \"CentralAuthority\": {\n    \"ca_hash\": \"Hash\",\n    \"data\": \"Vec<u8>\"\n  }\n}\n\nexport default types;","import PropTypes from 'prop-types'\nimport React, { Component } from 'react'\nimport {\n  Button,\n  Container,\n  Divider,\n  Grid,\n  Header,\n  Icon,\n  Image,\n  Responsive,\n  Segment,\n  Sidebar,\n  Visibility,\n} from 'semantic-ui-react'\nimport { Link } from 'react-router-dom';\nimport headerImage from './images/headerImage.jpg'\nimport image1 from './images/image-01.jpg';\n\n// Heads up!\n// We using React Static to prerender our docs with server side rendering, this is a quite simple solution.\n// For more advanced usage please check Responsive docs under the \"Usage\" section.\nconst getWidth = () => {\n  const isSSR = typeof window === 'undefined'\n\n  return isSSR ? Responsive.onlyTablet.minWidth : window.innerWidth\n}\n\nconst headerStyle = {\n  backgroundImage: `linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ), url(${headerImage})`, \n  backgroundSize: 'contain', \n  backgroundPosition:'center', \n}\n\n/* eslint-disable react/no-multi-comp */\n/* Heads up! HomepageHeading uses inline styling, however it's not the best practice. Use CSS or styled components for\n * such things.\n */\nconst HomepageHeading = ({ mobile }) => (\n  <Container text>\n    <Header\n      as='h1'\n      content='M-Governance'\n      inverted\n      style={{\n        fontSize: mobile ? '2em' : '4em',\n        fontWeight: 'normal',\n        marginBottom: 0,\n        marginTop: mobile ? '1.5em' : '3em',\n      }}\n    />\n    <Header\n      as='h2'\n      content='Next Autonomous Decision Making Platform Powered by Substrate and Polkadot.'\n      inverted\n      style={{\n        fontSize: mobile ? '1.5em' : '1.7em',\n        fontWeight: 'normal',\n        marginTop: mobile ? '0.5em' : '1.5em',\n      }}\n    />\n    <Link to=\"/vote\"><Button primary size='huge'>\n      Create Your First Vote\n      <Icon name='right arrow' />\n    </Button></Link>\n  </Container>\n)\n\nHomepageHeading.propTypes = {\n  mobile: PropTypes.bool,\n}\n\n/* Heads up!\n * Neither Semantic UI nor Semantic UI React offer a responsive navbar, however, it can be implemented easily.\n * It can be more complicated, but you can create really flexible markup.\n */\nclass DesktopContainer extends Component {\n  state = {}\n\n  hideFixedMenu = () => this.setState({ fixed: false })\n  showFixedMenu = () => this.setState({ fixed: true })\n\n  render() {\n    const { children } = this.props\n    const { fixed } = this.state\n\n    return (\n      <Responsive getWidth={getWidth} minWidth={Responsive.onlyTablet.minWidth}>\n        <Visibility\n          once={false}\n          onBottomPassed={this.showFixedMenu}\n          onBottomPassedReverse={this.hideFixedMenu}\n        >\n          <Segment\n            inverted\n            textAlign='center'\n            style={{ minHeight: 700, padding: '1em 0em' }}\n            vertical\n            style = {headerStyle}\n          >\n            <HomepageHeading />\n          </Segment>\n        </Visibility>\n\n        {children}\n      </Responsive>\n    )\n  }\n}\n\nDesktopContainer.propTypes = {\n  children: PropTypes.node,\n}\n\nclass MobileContainer extends Component {\n  state = {}\n\n  handleSidebarHide = () => this.setState({ sidebarOpened: false })\n\n  handleToggle = () => this.setState({ sidebarOpened: true })\n\n  render() {\n    const { children } = this.props\n    const { sidebarOpened } = this.state\n\n    return (\n      <Responsive\n        as={Sidebar.Pushable}\n        getWidth={getWidth}\n        maxWidth={Responsive.onlyMobile.maxWidth}\n      >\n      </Responsive>\n    )\n  }\n}\n\nMobileContainer.propTypes = {\n  children: PropTypes.node,\n}\n\nconst ResponsiveContainer = ({ children }) => (\n  <div>\n    <DesktopContainer>{children}</DesktopContainer>\n    <MobileContainer>{children}</MobileContainer>\n  </div>\n)\n\nResponsiveContainer.propTypes = {\n  children: PropTypes.node,\n}\n\nconst HomepageLayout = () => (\n  <ResponsiveContainer>\n    <Segment style={{ padding: '8em 0em' }} vertical>\n      <Grid container stackable verticalAlign='middle'>\n        <Grid.Row>\n          <Grid.Column width={8}>\n            <Header as='h3' style={{ fontSize: '2em' }}>\n              Vote that can scale with existing blockchains. Modular and fully customizable.\n            </Header> \n            <p style={{ fontSize: '1.33em' }}>\n              M-Governance is both an independent blockchain and one of many parachains on Polkadot, which is the next Internet of Blockchain.\n            </p>\n            <Header as='h3' style={{ fontSize: '2em' }}>\n              Flexible and Customizable\n            </Header>\n            <p style={{ fontSize: '1.33em' }}>\n              You can choose cutting-edge voting mechanisms which best fit your needs.\n            </p>\n          </Grid.Column>\n          <Grid.Column floated='right' width={6}>\n            <Image bordered rounded size='large' src={image1}/>\n          </Grid.Column>\n        </Grid.Row>\n        <Grid.Row>\n          <Grid.Column textAlign='center'>\n            <Link to=\"/tutorial\"><Button size='huge'>Go to Tutorial\n              <Icon name='right arrow' />\n            </Button></Link>\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    </Segment>\n    <Segment style={{ padding: '0em' }} vertical>\n      <Grid celled='internally' columns='equal' stackable>\n        <Grid.Row textAlign='center'>\n          <Grid.Column style={{ paddingBottom: '5em', paddingTop: '5em' }}>\n            <Header as='h3' style={{ fontSize: '3em' }}>\n              Compatible with many parachains on Polkadot\n            </Header>\n            <p style={{ fontSize: '2em' }}>Validated voting result can be used to trigger next event through Polkadot. </p>\n          </Grid.Column>\n          <Grid.Column style={{ paddingBottom: '5em', paddingTop: '5em' }}>\n            <Header as='h3' style={{ fontSize: '3em' }}>\n              Various voting tools and models\n            </Header>\n            <p style={{ fontSize: '2em' }}>\n              Quadratic Voting, Lock Voting, Normal Voting\n              {/* <Image avatar src={image2} />\n              <b>Rick</b> Chief Technology Officer */}\n            </p>\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    </Segment>\n    <Segment style={{ padding: '8em 0em' }} vertical>\n      <Container text>\n        <Header as='h3' style={{ fontSize: '2em' }}>\n          Register your certificate to join permitted voting.\n        </Header>\n        <p style={{ fontSize: '1.33em' }}>\n          From certificate tab, you can register your digital certificate to allow only those who have signed certificate to participate the voting. For example, you can register your country's national identity smart card to participate next municipal election voting process.\n          You need Fortify app to interect with your smartcard. For more detail, please follow this link.\n        </p>\n        <Link to=\"/certificate\"><Button size='large'>\n          Register Certificate\n        </Button></Link>\n        <Divider\n          as='h4'\n          className='header'\n          horizontal\n          style={{ margin: '3em 0em', textTransform: 'uppercase' }}\n        >\n          <a href='#'>Case Studies</a>\n        </Divider>\n        <Header as='h3' style={{ fontSize: '2em' }}>\n          M-Governance is compatible with Substrate account system. \n        </Header>\n        <p style={{ fontSize: '1.33em' }}>\n          You can use third-party extension to insert your account. Polkadot.js is an extension like a Metamask but for substrate based app. \n        </p>\n        <Button as='a' size='large'>\n          I'm Still Quite Interested\n        </Button>\n      </Container>\n    </Segment>\n  </ResponsiveContainer>\n)\nexport default HomepageLayout","import React, {useState} from 'react';\nimport { Menu, Icon, Input, MenuItemProps } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\n\nexport default function MenuBar() {\n  const [activeItem, setActiveItem] = useState<string>('');\n  const handleItemClick = (e: any,  { name }: MenuItemProps) => setActiveItem(name!);\n\n  return(\n    <Menu fluid widths={6}>\n      <Menu.Item \n      as={Link} to='/' name='home'\n      active={activeItem === 'home'}\n      onClick={handleItemClick}\n      >\n          <Icon name='home' />\n          Home\n      </Menu.Item>\n      <Menu.Item \n      as={Link} to='/tutorial' name='tutorial'\n      active={activeItem === 'tutorial'}\n      onClick={handleItemClick}>\n          <Icon name='inbox' />\n          Tutorial\n      </Menu.Item>\n      <Menu.Item \n      as={Link} to='/vote' name='vote'\n      active={activeItem === 'vote'}\n      onClick={handleItemClick}>\n          <Icon name='th' />\n          Vote\n      </Menu.Item>\n      <Menu.Item \n      as={Link} to='/transfer' name='transfer'\n      active={activeItem === 'transfer'}\n      onClick={handleItemClick}>\n          <Icon name='paper plane' />\n          Transfer\n      </Menu.Item>\n      <Menu.Item \n      as={Link} to='/certificate' name='certificate'\n      active={activeItem === 'certificate'}\n      onClick={handleItemClick}>\n          <Icon name='certificate' />\n          Certificate\n      </Menu.Item>\n\n      <Menu.Item>\n        <Input icon='search' placeholder='Vote ID...' />\n      </Menu.Item>\n    </Menu>\n  );\n}","import React from 'react';\nimport { Segment, Container, Grid, Header, List, Icon } from 'semantic-ui-react';\n\nexport default function Footer() {\n  return(\n    <Segment inverted vertical style={{ padding: '5em 0em' }}>\n    <Container>\n      <Grid divided inverted stackable>\n        <Grid.Row>\n          <Grid.Column width={3}>\n            <Header inverted as='h4' content='About' />\n            <List link inverted>\n              <List.Item as='a'>Sitemap</List.Item>\n              <List.Item as='a'>Contact Us</List.Item>\n              <List.Item as='a'>Religious Ceremonies</List.Item>\n              <List.Item as='a'>Gazebo Plans</List.Item>\n            </List>\n          </Grid.Column>\n          <Grid.Column width={3}>\n            <Header inverted as='h4' content='Sources' />\n            <List link inverted>\n              <List.Item as='a' href='https://github.com/MasakiMinamide/M-Governance' target=\"_blank\">\n              <List.Icon name='github' size='large' verticalAlign='middle' />M-Governance</List.Item>\n              <List.Item as='a' href='https://github.com/MasakiMinamide/m-governance-ui' target=\"_blank\">\n              <List.Icon name='github' size='large' verticalAlign='middle' />UI</List.Item>\n              <List.Item as='a' href='https://github.com/paritytech/polkadot' target=\"_blank\">\n              <List.Icon name='github' size='large' verticalAlign='middle' />Polkadot</List.Item>\n              <List.Item as='a' href='https://github.com/paritytech/substrate' target=\"_blank\">\n              <List.Icon name='github' size='large' verticalAlign='middle' />Substrate</List.Item>\n            </List>\n          </Grid.Column>\n          <Grid.Column width={7}>\n            <Header as='h4' inverted>\n              Creator: Masaki Minamide\n            </Header>\n            <p><Icon name='github'/><a href='https://github.com/MasakiMinamide' target=\"_blank\">Github</a></p>\n            <p><Icon name='twitter'/><a href='https://twitter.com/masakiminamide' target=\"_blank\">Twitter</a></p>\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    </Container>\n  </Segment>\n  );\n}","import React, { useEffect, useState } from 'react';\nimport { Table, Segment } from 'semantic-ui-react';\n\ninterface Props {\n  api: {query: any; };\n  keyring: {getPairs: any; };\n}\n\nexport default function Balances ({api, keyring}: Props) {\n  const accounts = keyring.getPairs();\n  const addresses = accounts.map((account: { address: string; }) => account.address);\n  const accountNames = accounts.map((account: { meta: { name: string; }; }) => account.meta.name);\n  const [balances, setBalances] = useState<{[s:string]: number; }>({});\n\n  useEffect(() => {\n    let unsubscribeAll: () => void\n\n    api.query.balances.freeBalance\n      .multi(addresses, (currentBalances: { [x: string]: { toString: () => void; }; }) => {\n        const balancesMap: {[s: string]: number} = addresses.reduce((acc: any, address: string, index: string | number) => ({\n          ...acc,\n          [address]: currentBalances[index].toString()\n        }), {});\n        setBalances(balancesMap);\n      })\n      .then((unsub: any) => { unsubscribeAll = unsub; })\n      .catch(console.error);\n\n    return () => unsubscribeAll && unsubscribeAll();\n  }, [api.query.balances.freeBalance]);\n\n  return (\n    <Segment>\n      <h1>Balances</h1>\n      <Table celled striped>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>Name</Table.HeaderCell>\n            <Table.HeaderCell>Address</Table.HeaderCell>\n            <Table.HeaderCell>Balance</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>\n          {addresses.map((address: string, index: string | number) => {\n            return (\n              <Table.Row key={index}>\n                <Table.Cell textAlign='right'>{accountNames[index]}</Table.Cell>\n                <Table.Cell>{address}</Table.Cell>\n                <Table.Cell>{balances && balances[address]}</Table.Cell>\n              </Table.Row>\n            );\n          })}\n        </Table.Body>\n      </Table>\n    </Segment>\n  );\n}\n","import React, {useEffect, useState} from 'react';\nimport { Segment, Image, Grid } from 'semantic-ui-react';\nimport logo from '../images/logo.png';\n\ninterface Props {\n  api: {rpc: any; };\n  blockNumber: string;\n}\ninterface NodeInfo {\n  chain: string;\n  nodeName: string;\n  nodeVersion: string;\n}\n\nexport default function NodeInfo({api, blockNumber}: Props) {\n  const [nodeInfo, setNodeInfo] = useState<NodeInfo>({chain: '', nodeName: '', nodeVersion: ''});\n\n  useEffect(() => {\n    const getInfo = () => {\n      Promise.all([\n        api.rpc.system.chain(),\n        api.rpc.system.name(),\n        api.rpc.system.version(),\n      ])\n      .then(([chain, nodeName, nodeVersion]) => {\n        setNodeInfo ({\n          chain,\n          nodeName,\n          nodeVersion,\n        })\n      })\n      .catch((e) => console.error(e));\n    }\n    getInfo()\n  },[]);\n  \n  return (\n    <Segment className='info'>\n      <Grid colums={2}>\n          <Grid.Column style={{padding:'0', paddingTop:'5px'}}>\n            <Image circular centered src={logo}/>\n          </Grid.Column>\n          <Grid.Column width={5}>\n            <Grid.Row>\n              <div className='chain' style={{fontSize:'16px'}}>\n                M-Governance\n              </div>\n            </Grid.Row>\n            <Grid.Row>\n              <div className='chain' style={{fontSize:'16px'}}>\n                {nodeInfo.chain} - {nodeInfo.nodeName} (ver. {nodeInfo.nodeVersion})\n              </div>\n            </Grid.Row>\n            <Grid.Row>\n              <div className='blockNumber' style={{fontSize:'16px', fontWeight:'bold'}}>\n                {`# ${blockNumber}`}\n              </div>\n            </Grid.Row>\n          </Grid.Column>\n      </Grid>\n    </Segment>\n  )\n}","import React, { useState } from 'react';\nimport { Button, Dropdown, Form, Input, DropdownProps, InputOnChangeData, Segment, Message} from 'semantic-ui-react';\n\ninterface Props {\n  api: {query: any, tx: any; };\n  keyring: {getPairs: any, getPair: any ;};\n}\ninterface Status{\n  status: {\n    isFinalized: boolean,\n    asFinalized: string,\n    type: string\n  }\n}\n\nexport default function Transfer ({api, keyring} : Props) {\n  const [message, setMessage] = useState({header: \"\", content:\"\", success:false, error:false, warning:false});\n  const initialState = {\n    addressFrom: '',\n    addressTo: '',\n    amount: 0\n  };\n  const [formState, setFormState] = useState(initialState);\n  const { addressTo, addressFrom, amount } = formState;\n  \n  // get the list of accounts we possess the private key for\n  const keyringOptions = keyring.getPairs().map((account: { address: any; meta: { name: { toUpperCase: () => void; }; }; }) => ({\n    key: account.address,\n    value: account.address,\n    text: account.meta.name.toUpperCase()\n  }));\n\n  const onChange = (_: any, data: DropdownProps | InputOnChangeData) => {\n    // formStateの中のdata.stateを変更\n    setFormState(formState => {\n      return {\n        ...formState,\n        [data.state]: data.value,\n      };\n    });\n  };\n  \n  const makeTransfer = () => {\n    const fromPair = keyring.getPair(addressFrom);\n\n    setMessage({...message, header: 'Just one second', content: 'Sending...', warning: true});\n    api.tx.balances\n    .transfer(addressTo, amount)\n    .signAndSend(fromPair, ({ status }: Status) => {\n      if (status.isFinalized) {\n        setMessage({...message, header: 'Transaction Completed!', content:`Completed at block hash #${status.asFinalized.toString()}`, success:true});\n        } else {\n        setMessage({...message, header: '', content: `Current transfer status: ${status.type}`, warning: true});\n        }\n      }).catch((e: any) => {\n        setMessage({...message, header: 'Error', content: ':( transaction failed. Check the log.', error: true});\n        console.error('ERROR:', e);\n      });\n  };\n\n  return (\n    <Segment>\n      <h1>Transfer</h1>\n      <Form>\n        <Form.Field>\n          <Dropdown\n            placeholder='Select from  your accounts'\n            fluid\n            label=\"From\"\n            onChange={onChange}\n            search\n            selection\n            state='addressFrom'\n            options={keyringOptions}\n          />\n        </Form.Field>\n        <Form.Field>\n          <Input\n            onChange={onChange}\n            label='To'\n            fluid\n            placeholder='address'\n            state='addressTo'\n            type='text'\n          />\n        </Form.Field>\n        <Form.Field>\n          <Input\n            label='Amount'\n            fluid\n            onChange={onChange}\n            state='amount'\n            type='number'\n          />\n        </Form.Field>\n        <Form.Field>\n          <Button\n            onClick={makeTransfer}\n            primary\n            type='submit'\n          >\n            Send\n          </Button>\n        </Form.Field>\n      </Form>\n      {message.content && <Message\n        success={message.success}\n        error={message.error}\n        warning={message.warning}\n        header={message.header}\n        content={message.content}\n      />}\n    </Segment>\n  );\n}\n","import React, {useState, useEffect} from 'react';\nimport { Popup, Button, Dropdown, Form, Input, DropdownProps, InputOnChangeData, Segment, Message, ButtonContentProps } from 'semantic-ui-react';\nconst helper = require('./helper.tsx');\n\ninterface Status{\n  status: {\n    isFinalized: boolean,\n    asFinalized: string,\n    type: string\n  }\n}\ninterface Form {\n  addressFrom: string;\n  voteType: number;\n  expLength: number;\n  data: string;\n  approved: number;\n}\nconst voteTypeOptions = [\n  {key: 0, value: 0, text: 'Normal Vote'},\n  {key: 1, value: 1, text: 'Lock Vote'},\n  {key: 2, value: 2, text: 'Quadratic Vote'}\n];\nconst popup = {\n  borderRadius: 0,\n  opacity: 0.7,\n  padding: '2em',\n}\n\nexport default function CreateVote({api, keyring}: {api:any; keyring:any}) {\n  const [message, setMessage] = useState({header: \"\", content:\"\", success:false, error:false, warning:false});\n    const initialState = {\n        addressFrom: '',\n        voteType: 0,\n        expLength: 0,\n        data: '',\n        approved: 0,\n        key: '',\n    };\n    const [formState, setFormState] = useState<Form>(initialState);\n    const { addressFrom, voteType, expLength, data, approved } = formState;\n    const[ vals, setVals ] = useState<any[]>([]);\n    const [ caOptions, setCaOptions ] = useState<{key: any; value: any; text: string;}[]>([{key: -1, value: -1, text: 'Permissionless'}]);\n\n    const keyringOptions = keyring.getPairs().map((account: { address: any; meta: { name: string; }; }) => ({\n        key: account.address,\n        value: account.address,\n        text: account.meta.name.toUpperCase()\n    }));\n\n    const onChange = (_: any, data: DropdownProps | InputOnChangeData) => {\n        setFormState(FormState => {\n          return {\n            ...FormState,\n            [data.state]: data.value\n          };\n        });\n    }\n\n    const onChangeOption = (_: any, data: InputOnChangeData) => {\n      setVals(prev=>{\n        return{\n          ...prev,\n          [data.state]: data.value\n        }\n      })\n    }\n\n    // get CA list\n    useEffect(() => {\n      let unsubscribe: () => any;\n      api.query.certificateModule.cAData((dataList: number[])=> {\n        for (let index in dataList) {\n          if (parseInt(index) >= 0) {\n          setCaOptions(prev => {\n            return[\n              ...prev,\n              {\n                key: index,\n                value: index,\n                text: helper.hex2a(dataList[index])\n              }\n            ]\n          })\n          }\n        }\n      })\n      .then((unsub: any) => { \n        unsubscribe = unsub; \n      })\n      .catch(console.error);\n  \n      return () => unsubscribe && unsubscribe();\n    }, [])\n\n    const createVote = () => {\n        const fromPair = keyring.getPair(addressFrom);\n        const options:string[] = Object.values(vals).map(val => val)\n        setMessage({...message, header: 'Just one second', content: 'Sending...', warning: true});\n        \n        api.tx.governanceModule\n        .createVote(voteType, expLength, data, approved+1, options)\n        .signAndSend(fromPair, ({status}: Status) => {\n          if (status.isFinalized) {\n            setMessage({...message, header: 'Transaction Completed!', content:`Completed at block hash #${status.asFinalized.toString()}`, success:true});\n            } else {\n            setMessage({...message, header: '', content: `Current transfer status: ${status.type}`, warning: true});\n            }\n        }).catch((e: any) => {\n          setMessage({...message, header: 'Error', content: ':( transaction failed. Check the log.', error: true});\n          console.error('ERROR:', e);\n        });\n    }\n\n    // options\n    const [count, setCount] = useState<number>(2);\n    // add or remove option input\n    const onClickOption= (_: any, data: ButtonContentProps) => {\n      // setCount(data.state==='add'?count+1 : count-1);\n      if(data.state==='add'){\n        setCount(count+1);\n      } else {\n        setCount(count-1);\n        let newVals = vals;\n        delete newVals[count-1];\n        setVals(newVals);\n      }\n    }\n\n    const canSend = () => {\n      if(addressFrom && expLength && data && approved && vals[0] && vals[1]){\n        return false;\n      } \n      return true;\n    }\n\n    return (\n        <Segment>\n          <h1>CreateVote</h1>\n          <Segment.Group>\n            <Form>\n                <Form.Field>\n                <Popup\n                  trigger={<Dropdown\n                    placeholder='Select from your accounts'\n                    fluid\n                    label=\"From\"\n                    onChange={onChange}\n                    search\n                    selection\n                    state='addressFrom'\n                    options={keyringOptions}\n                />}\n                  content='Select an account that you want to create a vote with. The account must own some free balance.'\n                  style={popup}\n                  inverted\n                  on={\"click\"}\n                />\n                </Form.Field>\n                <Form.Field>\n                <Popup\n                  trigger={<Dropdown\n                    placeholder='Select Vote type'\n                    fluid\n                    label=\"VoteType\"\n                    onChange={onChange}\n                    search\n                    selection\n                    state='voteType'\n                    options={voteTypeOptions}\n                />}\n                  content='Each vote method has different ways of casting and tallying.'\n                  style={popup}\n                  inverted\n                  on={\"click\"}\n                />\n                </Form.Field>\n                <Form.Field>\n                <Popup\n                  trigger={<Input\n                    label='Expire Length'\n                    fluid\n                    onChange={onChange}\n                    state='expLength'\n                    placeholder='BlockNumber: u64'\n                    type='number'\n                />}\n                  content='Any vote can be concluded after block expiration period. After the expiration, the vote no longer accept a ballot.'\n                  style={popup}\n                  inverted\n                  on={\"click\"}\n                />\n                </Form.Field>\n\n                <Form.Field>\n                <Popup\n                  trigger={<Dropdown\n                    placeholder='Select CA from the list'\n                    fluid\n                    label=\"Approved\"\n                    onChange={onChange}\n                    search\n                    selection\n                    state='approved'\n                    options={caOptions}\n                />}\n                  header='Central Authority'\n                  content='Only accounts registered with a digital certificate which is cryptographically signed by the Central Authoriy can participate in this vote. You can add a new CA or register your account in Certificate tab. Permissionless means any account can participate in the voting.'\n                  style={popup}\n                  inverted\n                  on={\"click\"}\n                />\n\n                </Form.Field>\n                <Form.Field>\n                <Popup\n                  trigger={<Input\n                    label='Data'\n                    fluid\n                    onChange={onChange}\n                    state='data'\n                    type='string'\n                />}\n                  content='Any string data less than 256bytes. (e.g. title, url, description, etc..)'\n                  style={popup}\n                  inverted\n                  on={\"click\"}\n                />\n                </Form.Field>\n                <Form.Field>\n                <div className='ui--Param-Vector-buttons'>\n                  <Button\n                    primary\n                    onClick={onClickOption}\n                    state='add'\n                    content='Add item'\n                    icon='add'\n                  />\n                  <Button\n                    disabled={count === 0}\n                    negative\n                    onClick={onClickOption}\n                    state='remove'\n                    content='Remove item'\n                    icon='minus'\n                  />\n                </div>\n                <div>\n                {[...Array(count).keys()].map(x=> ++x).map((val, i)=>{\n                  return(\n                    <Input\n                        key={i}\n                        onChange={onChangeOption}\n                        label='optionInput'\n                        fluid\n                        placeholder={`option: ${i}`}\n                        state={i}\n                        type='string'\n                    />\n                  )\n                })}\n                </div>\n                </Form.Field>\n\n                <Form.Field>\n                <Button\n                    onClick={createVote}\n                    primary\n                    disabled={canSend()}\n                    type='submit'\n                >\n                    Send\n                </Button>\n                </Form.Field>\n            </Form>\n            </Segment.Group>\n          {message.content && <Message\n            success={message.success}\n            error={message.error}\n            warning={message.warning}\n            header={message.header}\n            content={message.content}\n          />}\n\n        </Segment>\n    );\n}","import React, { useEffect, useState } from 'react';\nimport { Table, Segment} from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\n\ninterface Props {\n  api: any;\n  keyring: any;\n  blockNumber: string | number;\n}\n\ninterface VoteToString {\n  id: {toString: () => any};\n  vote_type:  {toString: () => any};\n  approved: { toString: () => any};\n  creator: { toString: () => any};\n  when: { toString: () => any};\n  vote_ends: { toString: () => any};\n  concluded: { toString: () => any};\n}\ninterface Vote {\n  id: number;\n  vote_type:  number;\n  approved: string;\n  creator: string;\n  when: number;\n  vote_ends: string;\n  concluded: string;\n}\n\nexport default function VoteListings ({api, blockNumber}: Props) {\n  const [voteCountState, setVoteCountState] = useState<number>(0);\n  const [votes, setVotes] = useState<Vote[]>([]);\n  const [arrayState, setArrayState] = useState<number[]>([]);\n\n  useEffect(() => {\n    let unsubscribe: () => any;\n    api.query.governanceModule.allVoteCount((count: { words: string; }) => {\n      setVoteCountState(parseInt(count.words));\n    })\n    .then((unsub: any) => { unsubscribe = unsub; })\n    .catch(console.error);\n\n    return () => unsubscribe && unsubscribe();\n  }, [api.query.governanceModule.createVote])\n\n  useEffect(() => {\n    let unsubscribeAll: () => any;\n    let voteArray:number[] = [...Array(voteCountState).keys()].map(x=> ++x)\n    setArrayState(voteArray);\n    setVotes([]);\n    api.query.governanceModule.votesByIndex\n      .multi(voteArray, (votes:  VoteToString[]) => {\n        // assign each voteArrayIndex with votes[index] json\n        for(let vote of votes){\n          setVotes(prev => {\n            return[\n              ...prev,\n              {\n                id: vote.id.toString(), \n                vote_type: vote.vote_type.toString(),\n                approved: vote.approved.toString(),\n                creator: vote.creator.toString(),\n                when: vote.when.toString(),\n                vote_ends: vote.vote_ends.toString(),\n                concluded: vote.concluded.toString()\n              }\n            ];\n          })\n        }\n      })\n      .then((unsub: any) => { unsubscribeAll = unsub; })\n      .catch(console.error);\n\n    return () => unsubscribeAll && unsubscribeAll();\n  }, [voteCountState]);\n  \n  const typeOfVote = (vote_type: any) => {\n    switch(vote_type) {\n      case '0': return \"Vote\";\n      case '1': return \"LockVote\";\n      default: return \"Undefined Vote\";\n    }\n  }\n\n  const colorByExpired = (vote_ends: string) =>{\n    if(parseInt(vote_ends) > blockNumber){\n      return {color: 'green'};\n    } \n    return {color: 'red'};\n  }\n  const colorByBool = (bool: string) =>{\n    if(bool === 'true'){\n      return {color: 'green'}\n    } else{\n      return {color: 'red'}\n    }\n  }\n  return (\n    <Segment.Group>\n      <Segment><h1>Votes: {voteCountState}</h1></Segment>\n      <Segment.Group>\n        <Table celled striped>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>ID</Table.HeaderCell>\n            <Table.HeaderCell>VoteType</Table.HeaderCell>\n            <Table.HeaderCell>Approved</Table.HeaderCell>\n            <Table.HeaderCell>Creator</Table.HeaderCell>\n            <Table.HeaderCell>When</Table.HeaderCell>\n            <Table.HeaderCell>VoteEnds</Table.HeaderCell>\n            <Table.HeaderCell>Concluded</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n\n        <Table.Body>\n          {arrayState.map((id: number, index: number) => {\n            return (\n              <Table.Row key={id}>\n                <Table.Cell textAlign='right'><Link to={`/vote/${id}`}>{id}</Link>\n                </Table.Cell>\n                <Table.Cell>{votes[index] && typeOfVote(votes[index].vote_type)}</Table.Cell>\n                {/* TODO: add link to CA*/}\n                <Table.Cell>{votes[index] && votes[index].approved}</Table.Cell> \n                <Table.Cell>{votes[index] && votes[index].creator}</Table.Cell>\n                <Table.Cell>{votes[index] && votes[index].when}</Table.Cell>\n                <Table.Cell style={colorByExpired(votes[index] && votes[index].vote_ends)}>{votes[index] && votes[index].vote_ends}</Table.Cell>\n                <Table.Cell style={colorByBool(votes[index] && votes[index].concluded)}>{votes[index] && votes[index].concluded}</Table.Cell>\n              </Table.Row>\n            );\n          })}\n        </Table.Body>\n      </Table>\n      </Segment.Group>\n    </Segment.Group>\n  );\n}\n  ","import React, {useState} from 'react';\nimport { Button, Dropdown, Form, DropdownProps, Message, Segment } from 'semantic-ui-react';\nconst helper = require('./helper.tsx');\n\ninterface Props {\n  api: any;\n  keyring: any;\n  id: string| undefined;\n  options: string[];\n}\ninterface Form {\n  addressFrom:string;\n  reference_id?: string;\n  ballot?: number;\n}\n\nexport default function CastBallot({api, keyring, id, options}: Props) {\n  const [message, setMessage] = useState({header: \"\", content:\"\", success:false, error:false, warning:false});\n  const initialState = {\n    addressFrom: '',\n    reference_id: id,\n  };\n  const [formState, setFormState] = useState<Form>(initialState);\n  const { addressFrom, reference_id, ballot } = formState;\n  const ballotOptions = options.map((v,i)=>{\n    return {key: i, value: i, text: helper.hex2a(v)}\n  });\n\n  const keyringOptions = keyring.getPairs().map((account:{address: string; meta:{name: string}}) => ({\n      key: account.address,\n      value: account.address,\n      text: account.meta.name.toUpperCase()\n  }));\n\n  const onChange = (_: any, data: DropdownProps) => {\n    setFormState((FormState:Form) => {\n      return {\n        ...FormState,\n        [data.state]: data.value\n      };\n    });\n  }\n\n  const castBallot = () => {\n    const fromPair = keyring.getPair(addressFrom);\n    setMessage({...message, header: 'Just one second', content: 'Sending...', warning: true});\n\n    api.tx.governanceModule\n    .castBallotWithOptions(reference_id, ballot)\n    .signAndSend(fromPair, ({status}: {status:{isFinalized: boolean; asFinalized: string; type: string; }}) => {\n      if (status.isFinalized) {\n        setMessage({...message, header: 'Transaction Completed!', content:`Completed at block hash #${status.asFinalized.toString()}`, success:true});\n        } else {\n        setMessage({...message, header: '', content: `Current transfer status: ${status.type}`, warning: true});\n        }\n    }).catch((e: any) => {\n      setMessage({...message, header: 'Error', content: ':( transaction failed. Check the log.', error: true});\n      console.error('ERROR:', e);\n    });\n  }\n  return(\n    <Segment>\n      <h1>Cast Ballot</h1>\n      <Form>\n        <Form.Field>\n          <Dropdown\n            placeholder='Select from your accounts'\n            fluid\n            label=\"From\"\n            onChange={onChange}\n            search\n            selection\n            state='addressFrom'\n            options={keyringOptions}\n          />\n        </Form.Field>\n        <Form.Field>\n          <Dropdown\n            placeholder='Select your answer'\n            label='Ballot'\n            fluid\n            onChange={onChange}\n            search\n            selection\n            state='ballot'\n            options={ballotOptions}\n          />\n        </Form.Field>\n        <Form.Field>\n          <Button\n            onClick={castBallot}\n            primary\n            type='submit'>\n            Send\n          </Button>\n        </Form.Field>\n      </Form>\n      {message.content && <Message\n        success={message.success}\n        error={message.error}\n        warning={message.warning}\n        header={message.header}\n        content={message.content}\n      />}\n    </Segment>\n  );\n}","import React, {useState, useEffect} from 'react';\nimport { Button, Dropdown, Form, DropdownProps, Segment, Message } from 'semantic-ui-react';\n\ninterface Props {\n  api: {query: any, tx: any; };\n  keyring: {getPairs: any, getPair: any ;};\n  id: string;\n  blockNumber: number;\n  vote_ends: number;\n  concluded: string;\n}\ninterface Status{\n  status: {\n    isFinalized: boolean,\n    asFinalized: string,\n    type: string\n  }\n}\nexport default function ConcludeVote({ api, keyring, id, blockNumber, vote_ends, concluded } : Props) {\n  const [message, setMessage] = useState({header: \"\", content:\"\", success:false, error:false, warning:false});\n  // when all requirements are set true, clickable\n  const requirements = {\n    isExpired: false,\n    isConcluded: false,\n    isSelected: false\n  };\n  const [clickable, setClickable] = useState(requirements);\n  \n  const { isExpired, isConcluded, isSelected } = clickable;\n\n  const initialState = {\n    addressFrom: '',\n    reference_id: id,\n  };\n  const [formState, setFormState] = useState(initialState);\n  const { addressFrom, reference_id } = formState;\n\n  const keyringOptions = keyring.getPairs().map((account: { address: any; meta: { name: string; }; }) => ({\n      key: account.address,\n      value: account.address,\n      text: account.meta.name.toUpperCase()\n  }));\n\n  const onChange = (_: any, data:DropdownProps) => {\n    setClickable(clickable => {\n      return {\n        ...clickable,\n        isSelected: (data.state === 'addressFrom')? true:false\n      }\n    })\n  \n    setFormState(FormState => {\n      return {\n        ...FormState,\n        [data.state]: data.value\n      };\n    });\n  }\n\n  const concludeVote = () => {\n    const fromPair = keyring.getPair(addressFrom);\n    setMessage({...message, header: 'Just one second', content: 'Sending...', warning: true});\n\n    api.tx.governanceModule\n    .concludeVote(reference_id)\n    .signAndSend(fromPair, ({status}: Status) => {\n      if (status.isFinalized) {\n        setMessage({...message, header: 'Transaction Completed!', content:`Completed at block hash #${status.asFinalized.toString()}`, success:true});\n        } else {\n        setMessage({...message, header: '', content: `Current transfer status: ${status.type}`, warning: true});\n        }\n      }).catch((e: any) => {\n        setMessage({...message, header: 'Error', content: ':( transaction failed. Check the log.', error: true});\n        console.error('ERROR:', e);\n      });\n  }\n\n  useEffect(() => {\n    let unsubscribe: () => any;\n    if (vote_ends < blockNumber) {\n      setClickable(clickable => {\n        return {\n          ...clickable,\n          isExpired: (vote_ends > 0 && vote_ends < blockNumber)?true:false,\n          isConcluded: (concluded === 'true')?true:false,\n        };\n      });\n    }\n    return () => {\n      unsubscribe && unsubscribe();\n    };\n  }, [blockNumber, isSelected, concluded, vote_ends])\n  \n  // TODO:refactor this\n  const isDisabled = (isConcluded: boolean, isSelected:boolean, isExpired: boolean) => {\n    if(!isConcluded && isSelected && isExpired) {\n      return false;\n    }\n    return true;\n  }\n\n  return(\n    <Segment>\n      <h1>Conclude Vote</h1>\n      <ul> Requirements\n        <li>isConcluded: {isConcluded? 'True': 'False'}</li>\n        <li>isExpired: {isExpired? 'True': 'False'}</li>\n        <li>isSelected: {isSelected? 'True':'False'}</li>\n      </ul>\n      <Form>\n        <Form.Field>\n          <Dropdown\n            placeholder='Select from your accounts'\n            fluid\n            label=\"From\"\n            onChange={onChange}\n            search\n            selection\n            state='addressFrom'\n            options={keyringOptions}\n          />\n        </Form.Field>\n        <Form.Field>\n          <Button\n            onClick={concludeVote}\n            disabled={isDisabled(isConcluded, isSelected, isExpired)}\n            primary\n            type='submit'>\n            Conclude\n          </Button>\n        </Form.Field>\n      </Form>\n      {message.content && <Message\n        success={message.success}\n        error={message.error}\n        warning={message.warning}\n        header={message.header}\n        content={message.content}\n      />}\n    </Segment>\n  );\n}","import React from 'react';\nimport {Doughnut} from 'react-chartjs-2';\nconst helper = require('./helper.tsx');\n\n\nexport default function ResultChart({options, accounts}: {options:string[]; accounts: string[][]}){\n  const data = {\n    labels: options.map(v=> helper.hex2a(v)),\n    datasets: [{\n      data: accounts.map(v => v.length),\n      backgroundColor: [\n      '#FF6384',\n      '#36A2EB',\n      '#FFCE56'\n      ],\n      hoverBackgroundColor: [\n      '#FF6384',\n      '#36A2EB',\n      '#FFCE56'\n      ]\n    }]\n  };\n\n  return (\n    <div>\n      <h1>Result Chart</h1>\n      <Doughnut data={data} />\n    </div>\n  );\n}\n","import React, {useState, useEffect} from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { Segment, Tab } from 'semantic-ui-react';\n\n// components\nimport CastBallot from './castBallot';\nimport ConcludeVote from './concludeVote';\nimport ResultChart from './ResultChart';\n\nconst helper = require('./helper.tsx');\n\ninterface Props {\n  api: any;\n  keyring: any;\n  blockNumber: string;\n}\ninterface VoteState {\n  vote_type: number;\n  approved?: string;\n  creator?: string;\n  vote_ends?: string \n  when?: string\n  concluded?: string\n  data?: string\n}\ninterface VoteToString {\n  vote_type:  {toString: () => any};\n  approved: { toString: () => any};\n  creator: { toString: () => any};\n  when: { toString: () => any};\n  vote_ends: { toString: () => any};\n  concluded: { toString: () => any};\n}\n\n// Details about Vote of specific id\n// query: votesByIndex, voteResult, votedAccounts\n// tx: ballot, conclude, lockvote, withdraw\nexport default function VoteView({api, keyring, blockNumber}: Props) {\n  const { id } = useParams();\n  const [voteState, setVoteState] = useState<VoteState>({vote_type: 0});\n  const { vote_type, approved, creator, vote_ends, when, concluded, data } = voteState;\n  const [optionState, setOptionState] = useState<string[]>([]);\n  const [accounts, setAccounts] = useState<string[][]>([]);\n\n  const panes = [\n    { menuItem: {key: 'voteView', icon: 'info', content: 'VoteView'}, render: ()=> \n    <Tab.Pane>\n      {voteView()}\n      <CastBallot api={api} keyring={keyring} id={id} options={optionState}/>\n      <ResultChart options={optionState} accounts={accounts}/>\n    </Tab.Pane>},\n    { menuItem: {key: 'conclude', icon: 'check circle', content: 'Conclude'}, render: ()=> <Tab.Pane>\n      <ConcludeVote api={api} keyring={keyring} id={id!} vote_ends={parseInt(vote_ends!)} concluded={concluded!} blockNumber={parseInt(blockNumber!)}/>\n    </Tab.Pane>},\n  ]\n\n  // get vote, put it in voteState\n  useEffect(() => {\n    let unsubscribe: () => any;\n    const f = async () => { await api.queryMulti([\n      [api.query.governanceModule.votesByIndex, id],\n      [api.query.governanceModule.data, id],\n      [api.query.governanceModule.voteOptions, id],\n    ], ([vote, data, options]:[VoteToString, string, string[] ]) => {\n      setVoteState({\n        vote_type: vote.vote_type.toString(),\n        approved: vote.approved.toString(),\n        creator: vote.creator.toString(),\n        when: vote.when.toString(),\n        vote_ends: vote.vote_ends.toString(),\n        concluded: vote.concluded.toString(),\n        data: helper.hex2a(data),\n      });\n      setOptionState(options);\n      getAccounts(options);\n    });\n    }\n    f().then((unsub: any) => {unsubscribe = unsub;})\n    .catch(console.error);\n    \n    return () => unsubscribe && unsubscribe();\n  }, [ id ])\n\n  const getAccounts = async (options: string[]) => {\n    let optionArr = [...Array(options.length).keys()].map(x=> ++x);\n    await api.query.governanceModule.accountsByOption\n      .multi(optionArr.map(val => [id, val-1]), (accounts: string[][])=>{\n        setAccounts(accounts);\n    })\n  }\n\n  const typeOfVote = (vote_type: any) => {\n    switch(vote_type) {\n      case '0': return \"Vote\";\n      case '1': return \"LockVote\";\n      default: return \"Undefined Vote\";\n    }\n  }\n\n  const voteView = () => {\n    return(\n      <Segment>\n      <div style={{float:'left'}}><Link to={`/vote/${parseInt(id!)-1}`}><h3>Before</h3></Link></div>\n      <div style={{paddingLeft: '20px', float:'left'}}><Link to={`/vote/${parseInt(id!)+1}`}><h3>Next</h3></Link></div>\n\n      <h1 style={{clear:'both'}}>Vote#{id}</h1>\n      <ul style={{listStyleType:\"none\"}}>\n        <li>Data: {data}</li>\n        <li>CreatedAt# {when}</li>\n        <li>Creator: {creator}</li>\n        <li>VoteType: {typeOfVote(vote_type)}</li>\n        <li>Approved: {approved}</li>\n        <li>VoteEndsAt# {vote_ends}</li>\n        <li>Concluded: {concluded}</li>\n        <li>\n          <ul>Options:\n            {optionState.map((option, index) => {\n              return(\n                <li key={index}>\n                  <ul>{helper.hex2a(option)}: {accounts[index] && accounts[index].length}\n                    {accounts[index] && accounts[index].map((account, i)=>{\n                      return (\n                      <li key={i}>\n                        {account.toString()}\n                      </li>\n                      );\n                    })}\n                  </ul>\n                </li>\n              )\n            })}\n          </ul>\n        </li>\n      </ul>\n      </Segment>\n      \n    );\n  }\n  return(\n    <Segment.Group>    \n      <Tab menu={{color: 'grey', inverted: true}} panes={panes} />\n    </Segment.Group>\n  );\n}","import React, { useState, useEffect } from 'react';\nimport { Button, Dropdown, Form, Table, DropdownProps, Segment, Dimmer, Loader, Image} from 'semantic-ui-react';\n\ndeclare function require(x: string): any;\nconst jwkToPem = require('jwk-to-pem');\nconst utils = require('pvtsutils');\n\nexport default function Provider ({ws, wsReady} : {ws: any, wsReady: boolean}) {\n  const initialOption = [\n    {\n    key: \"None\",\n    value: \"None\",\n    text: \"None\"}\n  ];\n\n  const [selectedProvider, setSelectedProvider] = useState<string | undefined>(\"\");\n  const [providerOptions, setProviderOptions] = useState<{key: string; value: string; text:string;}[]>([]);\n  const [providers, setProviders] = useState<{id: string; name: string; atr: string; }[]>([]);\n  const [items, setItems ] = useState<{index:string; id: string; type: string; subjectName: string}[]>([]);\n\n  const onChange = (_: any, data:DropdownProps) => {\n    setSelectedProvider(data.value?.toString());\n  }\n\n  const refresh = async () => {\n    if(selectedProvider) {\n      getItems(selectedProvider);\n    }\n  }\n\n  async function main() {\n    ws.connect(\"127.0.0.1:31337\")\n      .on(\"error\", function (e: any) {\n        console.error(e);\n      })\n      .on(\"listening\", async (e: any) => {\n        // Check if end-to-end session is approved\n        if (! await ws.isLoggedIn()) {\n          const pin = await ws.challenge();\n          // show PIN\n          setTimeout(() => {\n            alert(\"2key session PIN:\" + pin);\n          }, 100)\n          // ask to approve session\n          await ws.login();\n        }\n        await fillProviders();\n        // if(selectedProvider){\n        //   await getItems(selectedProvider);\n        // }\n        ws.cardReader\n          .on(\"insert\", fillProviders)\n          .on(\"remove\", fillProviders);\n    });\n  }\n  const fillProviders = async() => {\n    ws.info()\n      .then((info: { providers: {id: string; name: string; atr: string}[] }) => {\n        setProviderOptions([]);\n        setProviders([]);\n        for (const index in info.providers){\n          setProviderOptions(oldValues => {\n            return [\n              ...oldValues,\n              {\n                key: info.providers[index].id,\n                value: info.providers[index].id,\n                text: info.providers[index].name\n              }\n            ];\n          })\n          setProviders(oldValues => {\n            return[\n              ...oldValues,\n              {\n                id: info.providers[index].id,\n                name: info.providers[index].name,\n                atr: info.providers[index].atr || \"None\"\n              }\n            ];\n          })\n        }\n      });\n  }\n\n  async function getItems(providerId: string){\n    const crypto = await ws.getCrypto(providerId);\n    // console.log(crypto);\n    await crypto.reset();\n    // Check provider login\n    if (! await crypto.isLoggedIn()) {\n      // Request provider for PIN window\n      await crypto.login();\n    }\n\n    let indexes = await crypto.certStorage.keys();\n    let pubKey;\n\n    setItems([]);\n    // get certification as items\n    for (const index of indexes) {\n      try {\n        const item = await crypto.certStorage.getItem(index);\n\n        if(index === indexes[1]){\n          pubKey = item.publicKey;\n        }\n\n        setItems(items => {\n          return [\n            ...items,\n            {\n              index,\n              id: item.id,\n              type: item.type,\n              subjectName: item.subjectName,\n            }\n          ]\n        })\n      } catch (e) {\n        console.error(`Cannot get ${index} from CertificateStorage`)\n        console.error(e);\n      }\n    }\n\n    // get keys as items\n    indexes = await crypto.keyStorage.keys();\n    for (const index of indexes) {\n      try {\n        const item = await crypto.keyStorage.getItem(index);\n        setItems(items => {\n          return [\n            ...items,\n            {\n              index,\n              id: item.id,\n              type: item.type,\n              subjectName: item.algorithm.name,\n            }\n          ]\n        })\n      } catch (e) {\n        console.error(`Cannot get ${index} from CertificateStorage`)\n        console.error(e);\n      }\n    }\n  }\n  \n  async function downloadItem(e: { preventDefault: () => void; }, index: string){\n    e.preventDefault();\n    try{\n    const crypto = await ws.getCrypto(selectedProvider);\n    // await crypto.reset();\n    if (! await crypto.isLoggedIn()) {\n      await crypto.login();\n    }\n    const parts = index.split(\"-\");\n    let item;\n    let pem;\n    let hex;\n    switch(parts[0]){\n      case \"x509\":\n        item = await crypto.certStorage.getItem(index);\n        pem = await crypto.certStorage.exportCert(\"PEM\", item);\n        break;\n      case \"public\":\n        item = await crypto.keyStorage.getItem(index);\n        const jwk = await crypto.subtle.exportKey(\"jwk\", item);\n        pem = jwkToPem(jwk);\n        hex = utils.Convert.ToHex(pem);\n        break;\n      default: break;\n    }\n    console.log(pem);\n    console.log(hex);\n    // const thumbprint = await crypto.subtle.digest(\"SHA-1\", raw);\n    // console.log(thumbprint);\n\n    // Download the certobject in json\n\n    // let certObj={\n    //   id: cert.id,\n    //   issuerName: cert.issuerName,\n    //   serialNumber: cert.serialNumber,\n    //   version: cert.version,\n    //   providerID: cert.providerID,\n    //   notAfter: cert.notAfter,\n    //   notBefore: cert.notBefore,\n    //   subjectName: cert.subjectName,\n    //   type: cert.type,\n    //   publicKey:{\n    //     algorithm: cert.publicKey.algorithm.name,\n    //     extractable: cert.publicKey.extractable,\n    //     id: cert.publicKey.id,\n    //     hex: utils.Convert.ToHex(cert.raw),\n    //   }\n    // }\n\n    // var dataStr = \"data:text/pem;charset=utf-8,\" + encodeURIComponent(pem);\n    // var downloadAnchorNode = document.createElement('a');\n    // downloadAnchorNode.setAttribute(\"href\",     dataStr);\n    // downloadAnchorNode.setAttribute(\"download\", index + \".pem\");\n    // document.body.appendChild(downloadAnchorNode); // required for firefox\n    // downloadAnchorNode.click();\n    // downloadAnchorNode.remove();\n   }catch(e){console.error(e)}\n  }\n\n  useEffect(() => {\n    let unsubscribe: () => any;\n    if(ws){\n      main()\n      .then((unsub: any) => { \n        unsubscribe = unsub; \n      })\n      .catch(console.error);\n    }\n    return () => unsubscribe && unsubscribe();\n  }, [wsReady, ])\n\n  if(!wsReady){\n    return (\n      <Segment>\n      <Dimmer active inverted>\n        <Loader size='large'>Connecting to WebcryptoSocket.\n        Please install Fortify to use this feature!\n        </Loader>\n        \n      </Dimmer>\n\n      <Image src='https://react.semantic-ui.com/images/wireframe/paragraph.png' />\n      </Segment>\n    );\n  }\n  return(\n    <Segment>\n      <h2>Enumerate providers and their contents</h2>\n      <Form>\n        <h3>1: Select provider:</h3>\n        <Form.Field>\n        <Dropdown\n          placeholder='Providers'\n          fluid\n          label=\"Providers\"\n          onChange={onChange}\n          search\n          selection\n          state='providers'\n          options={providerOptions.length>0 ? providerOptions : initialOption}\n        />\n        </Form.Field>\n        <Form.Field>\n        <Button\n            onClick={refresh}\n            primary\n            type='submit'\n        >\n            Refresh\n        </Button>\n        </Form.Field>\n      </Form>\n\n      <div>\n        <h3>Providers:</h3>\n        <Table celled striped>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>Id</Table.HeaderCell>\n            <Table.HeaderCell>Name</Table.HeaderCell>\n            <Table.HeaderCell>ATR</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>\n        {providers.map((provider, index) => {\n            return (\n              <Table.Row key={index}>\n                <Table.Cell>{provider.id}</Table.Cell>\n                <Table.Cell>{provider.name}</Table.Cell>\n                <Table.Cell>{provider.atr || \"none\"}</Table.Cell>\n              </Table.Row>\n            );\n          })}\n        </Table.Body>\n        </Table>\n\n        <h3>Items:</h3>\n        <Table celled striped>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell>Index</Table.HeaderCell>\n            <Table.HeaderCell>ID</Table.HeaderCell>\n            <Table.HeaderCell>Type</Table.HeaderCell>\n            <Table.HeaderCell>Name</Table.HeaderCell>\n          </Table.Row>\n        </Table.Header>\n        <Table.Body>\n        {items.map((item, index) => {\n            return (\n              <Table.Row key={index}>\n                <Table.Cell onClick={(e: any) => downloadItem(e, item.index)}>{item.index}\n                </Table.Cell>\n                <Table.Cell>{item.id}</Table.Cell>\n                <Table.Cell>{item.type}</Table.Cell>\n                <Table.Cell>{item.subjectName || \"none\"}</Table.Cell>\n              </Table.Row>\n            );\n          })}\n        </Table.Body>\n        </Table>\n      </div>\n    </Segment>\n  );\n}\n\n","import React, { useState, useEffect } from 'react';\nimport { Button, Dropdown, Form, Header, DropdownProps, Segment } from 'semantic-ui-react';\nimport { cAPem } from './pemCerts';\nimport {createPKIJSCertificate} from './pkijshelpers';\nconst utils = require('pvtsutils');\nconst pkiJS = require('pkijs');\nconst helper = require('../Vote/helper.tsx');\n\ninterface Props {\n  api: any;\n  keyring: any;\n  ws: any;\n  caOptions: string[];\n}\ninterface Status{\n  status: {\n    isFinalized: boolean,\n    asFinalized: string,\n    type: string\n  }\n}\ninterface Options{\n  key: string;\n  value: string;\n  text: string;\n}\nexport default function Register ({api, keyring, ws, caOptions}: Props) {\n  const keyringOptions = keyring.getPairs().map((account: { address: any; meta: { name: string; }; }) => ({\n    key: account.address,\n    value: account.address,\n    text: account.meta.name.toUpperCase()\n  }));\n  const CAOptions = caOptions.map((v, i) => ({\n    key: i,\n    value: i,\n    text: helper.hex2a(v)\n  }));\n\n  const [status, setStatus] = useState('');\n\n  const initialState = {\n      addressFrom: '',\n      certificateIndex: '',\n      hexThumbSignature: '',\n      privateKeyIndex: '',\n      CAIndex: 0\n  };\n  const [formState, setFormState] = useState<{addressFrom: string, certificateIndex: string; hexThumbSignature: string; privateKeyIndex: string; CAIndex: number;}>(initialState);\n  const { addressFrom, hexThumbSignature, certificateIndex, CAIndex} = formState;\n\n  const [certificateOptions, setCertificateOptions] = useState<Options[]>([]);\n\n  const [selectedProvider, setSelectedProvider] = useState();\n  const [requirements, setRequirements] = useState<{verified: boolean; validated: boolean; }>({verified: false, validated: false});\n  const { verified, validated } = requirements;\n  const [validateStatus, setValidateStatus] = useState(\"\");\n  const [providerOptions, setProviderOptions] = useState<{key:string, value: string, text: string}[]>([]);\n\n  const onChange = (_: any, data: DropdownProps) => {\n    console.log(data.value);\n      setFormState(FormState => {\n        return {\n          ...FormState,\n          [data.state]: data.value\n        };\n      });\n  }\n  const onChangeProvider = async (_: any, data: DropdownProps) => {\n    setSelectedProvider(data.value);\n    getItems(data.value);\n  }\n\n  const getProviders = async() => {\n    ws.info()\n      .then((info: { providers: [{id: string; name: string}];}) => {\n        setProviderOptions([]);\n        for (const index in info.providers){\n          setProviderOptions(oldValues => {\n            return [\n            ...oldValues,\n            {\n              key: info.providers[index].id,\n              value: info.providers[index].id,\n              text: info.providers[index].name\n            }]\n          });\n        }\n      });\n  }\n\n  const signAccount = async () => {\n    try{\n      const crypto = await ws.getCrypto(selectedProvider);\n      const privateKey: any = await GetCertificateKey(\"private\", crypto, certificateIndex);\n      console.log(privateKey);\n      const alg = {\n        name: privateKey.algorithm.name || \"RSASSA-PKCS1-v1_5\",\n        hash: \"SHA-256\"\n      };\n      const message = utils.Convert.FromUtf8String(addressFrom);\n      console.log(utils.Convert.ToHex(message));\n      const rawSignature = await crypto.subtle.sign(alg, privateKey, message);\n      const thumbSignature = await crypto.subtle.digest(\"SHA-256\", rawSignature);\n      const hexThumbSignature = utils.Convert.ToHex(thumbSignature);\n      setFormState((formState: any)=>{\n        return{\n          ...formState,\n          hexThumbSignature,\n          signature: rawSignature,\n          message\n        };\n      });\n\n      console.log(utils.Convert.ToHex(rawSignature));\n      verify(rawSignature, message);\n      }\n      catch(e){console.error(e)};\n  }\n  \n  const verify = async(signature: {}, message: string) => {\n    const crypto = await ws.getCrypto(selectedProvider);\n    const publicKey = await GetCertificateKey(\"public\", crypto, certificateIndex);\n    const alg = {name: \"RSASSA-PKCS1-v1_5\", hash: \"SHA-256\"};\n    let rsassaPublicKey;\n\n    if(publicKey.algorithm.name === \"RSA-OAEP\"){\n      const spki = await crypto.subtle.exportKey(\"spki\", publicKey);\n      rsassaPublicKey = await crypto.subtle.importKey(\"spki\", spki, {name: \"RSASSA-PKCS1-v1_5\", hash: \"SHA-256\"}, true, [\"verify\"]);\n    }\n    \n    try{\n      const ok = await crypto.subtle.verify(alg, rsassaPublicKey || publicKey, signature, message);\n      setRequirements({\n          verified: ok,\n          validated: validated\n        })\n    }\n    catch (e){\n      console.error(e);\n    }\n  }\n\n  const getItems = async(providerId: any) => {\n    const crypto = await ws.getCrypto(providerId);\n    await crypto.reset();\n\n    if (! await crypto.isLoggedIn()) {\n      await crypto.login();\n    }\n\n    let privateKeys:string[] = [];\n\n    // get Private keys\n    const getKey = async () =>{  \n      const indexes = await crypto.keyStorage.keys();\n      for (const index of indexes) {\n        try {\n          const item = await crypto.keyStorage.getItem(index);\n          if (item.type === \"private\") {\n            privateKeys.push(index);\n          } \n        } catch (e) {\n          console.error(`Cannot get ${index} from CertificateStorage`)\n          console.error(e);\n        }\n      }}\n    \n    // get certs of which id matches with private key.(only takes certs with privatekeys, because sign and verificaiton requires one matching pair of public and privatekey)\n    const getCert = async() => { \n      const certs:string[] = await crypto.certStorage.keys();\n      setCertificateOptions([]);\n      for(const keyId of privateKeys){\n        const keyParts = keyId.split('-');\n      for (const cert of certs) {\n        const certParts = cert.split('-');\n        if(keyParts[2] === certParts[2]){\n        try {\n          const item = await crypto.certStorage.getItem(cert);\n            setCertificateOptions(certificateOptions => {\n              return[\n                ...certificateOptions,\n                {\n                  key: cert,\n                  value: cert,\n                  text: `${GetCommonName(item.subjectName)}: ${cert}`\n                }\n              ]\n            });\n        } catch (e) {\n          console.error(`Cannot get ${cert} from CertificateStorage`)\n          console.error(e);\n        }\n      }}\n    }\n    }\n    await getKey();\n    await getCert();\n  }\n\n  const validate =  async () => {\n    const crypto = await ws.getCrypto(selectedProvider);\n    const item = await crypto.certStorage.getItem(certificateIndex);\n    const userPem = await crypto.certStorage.exportCert(\"PEM\", item);\n\n    const userRaw = createPKIJSCertificate(userPem);\n    const caPem2 = await api.query.certificateModule.cAStore(CAIndex+1);\n\n    const caRaw = createPKIJSCertificate(helper.hex2a(caPem2));\n  \n    const chainValidator = new pkiJS.CertificateChainValidationEngine({\n      certs: [userRaw],\n      trustedCerts: [caRaw]\n    });\n  \n    const { result, resultCode, resultMessage } = await chainValidator.verify();\n    console.log(result, resultCode, resultMessage);\n    setRequirements({\n        verified: verified,\n        validated: result\n    })\n    setValidateStatus(result?\"Validation Successful!\": `Error: ${resultMessage}.`);\n  }\n\n  const GetCertificateKey = async (type: string, provider: any, certID: string) => {\n    const keyIDs = await provider.keyStorage.keys()\n    for (const keyID of keyIDs) {\n      const parts = keyID.split(\"-\");\n      // parts = type-id-certId\n      if (parts[0] === type && parts[2] === certID.split(\"-\")[2]) {\n        const key = await provider.keyStorage.getItem(keyID);\n        if (key) {\n          return key;\n        }\n      }\n    }\n    if (type === \"public\") {\n      const cert = await provider.certStorage.getItem(certID);\n      if (cert) {\n        return cert.publicKey;\n      }\n    }\n    return null;\n  }\n\n  const registerAccount = async () => {\n    const fromPair = keyring.getPair(addressFrom);\n    const crypto = await ws.getCrypto(selectedProvider);\n\n    const cert = await crypto.certStorage.getItem(certificateIndex);\n    const rawCert = await crypto.certStorage.exportCert(\"raw\", cert);\n\n    const thumbCert = await crypto.subtle.digest(\"SHA-256\", rawCert);\n    const hexThumbCert = utils.Convert.ToHex(thumbCert);\n\n    const caPem = await api.query.certificateModule.cAStore(CAIndex+1);\n\n    const caRaw = createPKIJSCertificate(helper.hex2a(caPem));\n    const thumbCA = await crypto.subtle.digest(\"SHA-256\", caRaw.tbs);\n    const hexThumbCA = utils.Convert.ToHex(thumbCA);\n    \n    // console.log(thumbCert);\n    console.log(\"hexThumbPub: \", hexThumbCert);\n    console.log(\"hexThumbCA: \", hexThumbCA);\n\n    setStatus('Sending...');\n\n    await api.tx.certificateModule\n    .registerAccount(\"0x\"+hexThumbCA, \"0x\"+hexThumbCert, \"0x\"+hexThumbSignature)\n    .signAndSend(fromPair, ({status}: Status) => {\n        if (status.isFinalized) {\n        setStatus(`Completed at block hash #${status.asFinalized.toString()}`);\n        } else {\n        setStatus(`Current transfer status: ${status.type}`);\n        }\n    }).catch((e: any) => {\n        setStatus(':( transaction failed');\n        console.error('ERROR:', e);\n    });\n  }\n\n  const main = async () => {\n    ws.connect(\"127.0.0.1:31337\")\n      .on(\"error\", function (e: any) {\n        console.error(e);\n      })\n      .on(\"listening\", async (e: any) => {\n        // Check if end-to-end session is approved\n        if (! await ws.isLoggedIn()) {\n          const pin = await ws.challenge();\n          // show PIN\n          setTimeout(() => {\n            alert(\"2key session PIN:\" + pin);\n          }, 100)\n          // ask to approve session\n          await ws.login();\n        }\n        if(selectedProvider){\n          await getItems(selectedProvider);\n        }\n        await getProviders();\n    });\n  }\n\n  useEffect(() => {\n    if(ws){\n      main();\n    }\n  }, [])\n\n  // const lineMaker = (str: string) =>{\n  //   return str.replace(/(.{100})/g, \"$1 \");\n  // }\n  \n  const canRegister = () => {\n    if(addressFrom && certificateIndex && hexThumbSignature && verified && validated){\n      return false;\n    } \n    return true;\n  }\n  const getColor =(v:boolean)=>{\n    if(v){\n      return {color:\"green\"}\n    }\n    return {color:\"red\"}\n  }\n  \n  return(\n    <Segment>  \n      <h1>Register</h1>\n      <h3>Requirements:</h3>\n      <ul>\n        <li style={getColor(!!formState.addressFrom)}>Account: {formState.addressFrom || \"None\"}</li>\n        <li style={getColor(!!formState.hexThumbSignature)}>Signed Account: {formState.hexThumbSignature || \"None\"}</li>\n        <li style={getColor(!!formState.certificateIndex)}>Certification: {formState.certificateIndex || \"None\"}</li>\n        <li style={getColor(verified)}>Sign Verification: {verified?\"True\":\"False\"}</li>\n        <li style={getColor(validated)}>Cert Validation: {validated?\"True\":\"False\"}</li>\n      </ul>\n      <h2>Sign your Account</h2>\n      <Form>\n            <Form.Field>\n              <Dropdown\n                  placeholder='Select from your accounts'\n                  fluid\n                  label=\"From\"\n                  onChange={onChange}\n                  search\n                  selection\n                  state='addressFrom'\n                  options={keyringOptions}\n              />\n            </Form.Field>\n            <Form.Field>\n              <Dropdown\n                  placeholder='Select from your providers'\n                  fluid\n                  label=\"Provider\"\n                  onChange={onChangeProvider}\n                  search\n                  selection\n                  state='provider'\n                  options={providerOptions}\n              />\n            </Form.Field>\n            <Form.Field>\n              <Dropdown\n                  placeholder='Select from your certificates'\n                  fluid\n                  label=\"certificateIndex\"\n                  onChange={onChange}\n                  search\n                  selection\n                  state='certificateIndex'\n                  options={certificateOptions}\n              />\n            </Form.Field>\n            <Form.Field>\n              <Button\n                  onClick={signAccount}\n                  primary\n                  type='submit'\n              >\n                  Sign\n              </Button>\n            </Form.Field>\n      </Form>\n      <div style={{whiteSpace: 'pre-line'}}>\n        <Header as='h3'>Signature: </Header>\n        {formState.hexThumbSignature}\n        <h3>Verification: {`${verified}`}</h3>\n      </div>\n      \n      <h2>Select Root CA to validate your certification.</h2>\n      <Form>\n          <Form.Field>\n          <Dropdown\n              placeholder='Select from registered CA'\n              fluid\n              label=\"CAOptions\"\n              onChange={onChange}\n              search\n              selection\n              state='CAIndex'\n              options={CAOptions}\n          />\n        </Form.Field>\n        <Form.Field>\n          <Button\n              onClick={validate}\n              primary\n              type='submit'\n          >\n              Validate Certificate\n          </Button>\n          </Form.Field>\n      </Form>\n      {validateStatus}\n      <Form>\n          <Form.Field>\n          <Button\n              onClick={registerAccount}\n              primary\n              disabled={canRegister()}\n              type='submit'\n          >\n              Register\n          </Button>\n          </Form.Field>\n      </Form>\n      {status}\n    </Segment>\n  );\n} \n\nfunction GetCommonName(name: string) {\n  var reg = /CN=(.+),?/i;\n  var res = reg.exec(name);\n  return res ? res[1] : \"Unknown\";\n}","import React, { useState, useEffect } from 'react';\nimport { Button, Dropdown, Form, TextArea, TextAreaProps, DropdownProps, Segment, Message, Input, InputOnChangeData } from 'semantic-ui-react';\nimport {createPKIJSCertificate, removePemArmoring} from './pkijshelpers';\nconst utils = require('pvtsutils');\nconst pkiJS = require('pkijs');\n\ninterface Props {\n  api: any;\n  keyring: any;\n}\ninterface Status{\n  status: {\n    isFinalized: boolean,\n    asFinalized: string,\n    type: string\n  }\n}\n\nexport default function RegisterCA ({api, keyring}: Props) {\n  const keyringOptions = keyring.getPairs().map((account: { address: any; meta: { name: string; }; }) => ({\n    key: account.address,\n    value: account.address,\n    text: account.meta.name.toUpperCase()\n  }));\n  const [message, setMessage] = useState({header: \"\", content:\"\", success:false, error:false, warning:false});\n  const [formState, setFormState] = useState<{addressFrom: string; data: string; pem: string}>({addressFrom: '', data: '', pem: ''});\n  const { addressFrom, data, pem } = formState;\n\n  const onChange = (_: any, data: DropdownProps | TextAreaProps | InputOnChangeData) => {\n      setFormState(FormState => {\n        return {\n          ...FormState,\n          [data.state]: data.value\n        };\n      });\n  }\n  const registerCA = async () => {\n    try{\n    const fromPair = keyring.getPair(addressFrom);\n    const rawCA = createPKIJSCertificate(pem);\n    const thumbCA = await crypto.subtle.digest(\"SHA-256\", rawCA.tbs);\n    const hexThumbCA = utils.Convert.ToHex(thumbCA);\n    console.log(hexThumbCA);\n    console.log(rawCA.tbs);\n    const unarmored = removePemArmoring(pem);\n    console.log(unarmored);\n    \n    await api.tx.certificateModule\n    .registerCa(\"0x\"+hexThumbCA, unarmored, data)\n    .signAndSend(fromPair, ({status}: Status) => {\n      if (status.isFinalized) {\n        setMessage({...message, header: 'Transaction Completed!', content:`Completed at block hash #${status.asFinalized.toString()}`, success:true});\n        } else {\n        setMessage({...message, header: '', content: `Current transfer status: ${status.type}`, warning: true});\n        }\n      }).catch((e: any) => {\n        setMessage({...message, header: 'Error', content: ':( transaction failed. Check the log.', error: true});\n        console.error('ERROR:', e);\n      });\n    } catch(e){\n      setMessage({...message, header: 'Error', content: `Registration failed: ${e}`, error: true});\n      console.error('ERROR:', e);\n    };\n  }\n\n  return (\n    <Segment>\n      <Form>\n      <Form.Field>\n        <Dropdown\n            placeholder='Select from your accounts'\n            fluid\n            label=\"From\"\n            onChange={onChange}\n            search\n            selection\n            state='addressFrom'\n            options={keyringOptions}\n        />\n      </Form.Field>\n      <Form.Field>\n        <Input\n          label='Data'\n          fluid\n          onChange={onChange}\n          state='data'\n          type='string'\n        />\n      </Form.Field>\n      <Form.Field\n      control={TextArea}\n      onChange={onChange}\n      state='pem'\n      label='pem'\n      placeholder='Paste a PEM formatted text.'\n    />\n      <Form.Field>\n        <Button\n            onClick={registerCA}\n            primary\n            type='submit'\n        >\n            Register\n        </Button>\n      </Form.Field>\n    </Form>\n    {message.content && <Message\n        success={message.success}\n        error={message.error}\n        warning={message.warning}\n        header={message.header}\n        content={message.content}\n      />}\n  </Segment>\n  )\n}","import React, { useState, useEffect } from 'react';\nimport { Button, Dropdown, Form, Input, Container, Header, DropdownProps, Segment, Table } from 'semantic-ui-react';\nimport { cAPem } from './pemCerts';\nimport {createPKIJSCertificate} from './pkijshelpers';\nimport { Link } from 'react-router-dom';\nconst utils = require('pvtsutils');\nconst pkiJS = require('pkijs');\n\ninterface Props {\n  api: {query: any}\n}\ninterface Status{\n  status: {\n    isFinalized: boolean,\n    asFinalized: string,\n    type: string\n  }\n}\ninterface Options{\n  key: string;\n  value: string;\n  text: string;\n}\nexport default function CAListings ({api}: Props) {\n  const [caCount, setCaCount] = useState(0);\n  const [hashState, setHashState] = useState<string[]>([])\n\n  useEffect(() => {\n    let unsubscribe: () => any;\n    api.query.certificateModule.cAHashes((caHashes: string[]) => {\n      setCaCount(caHashes.length);\n      setHashState(caHashes);\n    })\n    .then((unsub: any) => { unsubscribe = unsub; })\n    .catch(console.error);\n\n    return () => unsubscribe && unsubscribe();\n  }, [])\n\n  return (\n    <Segment.Group>\n    <Segment><h1>Registered Central Authority: {caCount}</h1></Segment>\n    <Segment.Group>\n      <Table celled striped>\n      <Table.Header>\n        <Table.Row>\n          <Table.HeaderCell>ID</Table.HeaderCell>\n          <Table.HeaderCell>CAHash</Table.HeaderCell>\n          {/* <Table.HeaderCell>Registered Accounts</Table.HeaderCell> */}\n        </Table.Row>\n      </Table.Header>\n\n      <Table.Body>\n        {hashState.map((hash: string, index: number) => {\n          return (\n            <Table.Row key={index}>\n              <Table.Cell textAlign='right'><Link to={`/certificate/${index + 1}/${hash.toString()}`}>{index+1}</Link>\n              </Table.Cell>\n              <Table.Cell>{hash.toString()}</Table.Cell>\n            </Table.Row>\n          );\n        })}\n      </Table.Body>\n    </Table>\n    </Segment.Group>\n  </Segment.Group>\n  )\n}","import React, { useState, useEffect } from 'react';\nimport {Tab} from 'semantic-ui-react';\n\n// import components\nimport Provider from './Provider';\nimport Register from './Register';\nimport RegisterCA from './RegisterCA';\nimport CAListings from './CAListings';\n\n// var protobuf = require(\"protobufjs\");\n// var WebcryptoSocket = require(\"@webcrypto-local/client\");\n// console.log(protobuf);\n\nconst urls = [\"https://peculiarventures.github.io/pv-webcrypto-tests/src/asmcrypto.js\", \"https://peculiarventures.github.io/pv-webcrypto-tests/src/elliptic.js\", \"https://cdn.rawgit.com/dcodeIO/protobuf.js/6.8.0/dist/protobuf.js\", \"https://unpkg.com/@webcrypto-local/client@1.0.14/build/webcrypto-socket.js\", \"https://peculiarventures.github.io/pv-webcrypto-tests/src/webcrypto-liner.min.js\", \"https://cdn.rawgit.com/jakearchibald/idb/97e4e878/lib/idb.js\"];\n\ninterface Props {\n  api: {query: any, tx: any; };\n  keyring: {getPairs: any, getPair: any ;};\n}\ninterface MyWindow extends Window {  \n  WebcryptoSocket: any;\n}  \ndeclare var window: MyWindow;  \n\nexport default function Certificate ({ api, keyring }: Props) {\n  const [ws, setWs] = useState();\n  const [wsReady, setWsReady] = useState(false)\n  const [caOptions, setCaOptions] = useState<string[]>([]);\n\n  const panes = [\n    { menuItem: {key: 'providers', icon: 'rss', content: 'Providers'}, render: ()=> <Tab.Pane><Provider ws={ws} wsReady={wsReady}/></Tab.Pane>},\n    { menuItem: {key: 'register', icon: 'book', content: 'Register'}, render: ()=> <Tab.Pane><Register api={api} keyring={keyring} ws={ws} caOptions={caOptions}/></Tab.Pane>},\n    { menuItem: {key: 'centralAuthority', icon: 'building', content: 'Central Authority'}, render: ()=> <Tab.Pane><CAListings api={api} /></Tab.Pane>},\n    { menuItem: {key: 'registerCA', icon: 'building', content: 'Register CA'}, render: ()=> <Tab.Pane><RegisterCA api={api} keyring={keyring} /></Tab.Pane>},\n  ];\n\n  // load libs\n  useEffect(() => { \n    for (const id in urls) {\n      let tag = document.createElement('script');\n      tag.async = false;\n      tag.src = urls[id];\n      let body = document.getElementsByTagName('body')[0];\n      body.appendChild(tag);\n    }\n    let unsubscribe: () => any;\n    api.query.certificateModule.cAData((ca_data: string[]) =>{\n      setCaOptions(ca_data);\n    }).then((unsub: any) => {unsubscribe = unsub; })\n      .catch(console.error);\n    return () => unsubscribe && unsubscribe();\n  },[]); \n\n  // get webcryptosocket\n  useEffect(() => {\n    window.WebcryptoSocket && init();\n  }, [window.WebcryptoSocket])\n\n  const init = async () => {\n    const WebcryptoSocket = window.WebcryptoSocket;\n    const ws = new WebcryptoSocket.SocketProvider({\n      storage: await WebcryptoSocket.BrowserStorage.create(),\n    });\n    setWs(ws);\n    setWsReady(true);\n  }\n\n  return(\n    <>\n      <Tab menu={{color: 'grey', inverted: true}} panes={panes} />\n    </>\n  );\n}","import React, { useState } from 'react'\nimport { Menu, MenuItemProps } from 'semantic-ui-react'\n\nexport default function SideBar({activeItem,  setActiveItem}: any) {\n  const handleItemClick = (e: any, { name }: MenuItemProps) => setActiveItem(name!);\n\n    return (\n      <Menu vertical>\n        <Menu.Item\n              name='home'\n              active={activeItem === 'home'}\n              onClick={handleItemClick}\n        />\n\n        <Menu.Item>\n          <Menu.Header>Preparation</Menu.Header>\n\n          <Menu.Menu>\n            <Menu.Item\n              name='create account'\n              active={activeItem === 'create account'}\n              onClick={handleItemClick}\n            />\n          </Menu.Menu>\n        </Menu.Item>\n \n        <Menu.Item>\n          <Menu.Header>Vote</Menu.Header>\n\n          <Menu.Menu>\n            <Menu.Item\n              name='create your first vote'\n              active={activeItem === 'create your first vote'}\n              onClick={handleItemClick}\n            />\n            <Menu.Item\n              name='create a vote with CA certificate'\n              active={activeItem === 'create a vote with CA certificatehon'}\n              onClick={handleItemClick}\n              />\n            <Menu.Item\n              name='create a quadratic vote'\n              active={activeItem === 'create a quadratic vote'}\n              onClick={handleItemClick}\n            />\n          </Menu.Menu>\n        </Menu.Item>\n\n        <Menu.Item>\n          <Menu.Header>Ballot</Menu.Header>\n\n          <Menu.Menu>\n            <Menu.Item\n              name='cast your first ballot'\n              active={activeItem === 'cast your first ballot'}\n              onClick={handleItemClick}\n              />\n            <Menu.Item\n              name='cast a lockvote'\n              active={activeItem === 'cast a lockvote'}\n              onClick={handleItemClick}\n            />\n          </Menu.Menu>\n          \n        </Menu.Item>\n\n        <Menu.Item>\n          <Menu.Header>Certificate</Menu.Header>\n\n          <Menu.Menu>\n            <Menu.Item\n              name='register your account'\n              active={activeItem === 'register your account'}\n              onClick={handleItemClick}\n            />\n\n            <Menu.Item\n              name='register new CA'\n              active={activeItem === 'register new CA'}\n              onClick={handleItemClick}\n            />\n          </Menu.Menu>\n        </Menu.Item>\n        <Menu.Item\n              name='FAQ'\n              active={activeItem === 'FAQ'}\n              onClick={handleItemClick}\n        />\n      </Menu>\n    );\n}\n","import React, { useState } from 'react'\nimport { Menu, MenuItemProps } from 'semantic-ui-react'\n\nexport default function Home() {\n  const Paragraph = () => (\n    <p>\n      {[\n        'Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum ',\n        'tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas ',\n        'semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo. Quisque sit amet est et sapien ',\n        'ullamcorper pharetra. Vestibulum erat wisi, condimentum sed, commodo vitae, ornare sit amet, wisi. Aenean ',\n        'fermentum, elit eget tincidunt condimentum, eros ipsum rutrum orci, sagittis tempus lacus enim ac dui. ',\n        'Donec non enim in turpis pulvinar facilisis. Ut felis. Praesent dapibus, neque id cursus faucibus, tortor ',\n        'neque egestas augue, eu vulputate magna eros eu erat. Aliquam erat volutpat. Nam dui mi, tincidunt quis, ',\n        'accumsan porttitor, facilisis luctus, metus',\n      ].join('')}\n    </p>\n  )\n  const text = {\n    fontSize: '15px',\n    lineHeight: '1.8',\n  }\n\n    return (\n      <>\n        <h1><code>M-Governance Tutorial</code></h1>\n        <h2><code>Blockchain-based decision making platform</code></h2>\n        <p style={text}>\n        M-Governanceはブロックチェーン上での意思集約をもっと簡単に行うためのプラットフォームです。\n        現状のブロックチェーンの意思決定は結果が決めた事の実行に直結せず、最終的な決定は中央主体に委ねられています。<br/>\n        MーGovernanceでは意思決定結果はPolkadotを通すことで、他のブロックチェーンのスマートコントラクトやランタイムイベントを自律的にトリガーすることが可能です。</p>\n        <p style={text}>\n        さらに最新のクアドラティック投票やロック投票なども提供しており、意思決定事項にとってハイパフォーマンスなモデルやツールを採用できます。\n        CA(Central Authority)により署名された電子証明書を使ってPermissionedな投票を行うことも可能です。<br/>\n\n        このチュートリアルでは投票の作成、投票、CAの登録などを学べます。</p>\n      </>\n    );\n}\n","import React, { useState } from 'react';\nimport { Segment, Container, Grid, Header, List, Icon } from 'semantic-ui-react';\n\nimport SideBar from './SideBar';\n\n// documents\nimport Home from './Docs/Home';\n\nexport default function Tutorial() {\n  const [activeItem, setActiveItem] = useState<string>('home');\n\n  const getDoc = () => {\n    switch (activeItem){\n      case 'home': return <Home />;\n      default: return activeItem;\n    }\n  }\n  return(\n    <Segment>\n      <Grid>\n        <Grid.Row>\n\n        <Grid.Column width={3}>\n          <SideBar setActiveItem={setActiveItem} activeItem={activeItem}/>\n        </Grid.Column>\n\n        <Grid.Column width={10}>\n          <Container>\n            {getDoc()}\n          </Container>\n        </Grid.Column>\n\n      </Grid.Row>\n      </Grid>\n\n    </Segment>\n  );\n}","import React, {useState, useEffect} from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { Segment, Tab, Container } from 'semantic-ui-react';\nimport { createPKIJSCertificate } from './pkijshelpers';\nconst helper = require('../Vote/helper.tsx');\n\ninterface Props {\n  api: any;\n  keyring: any;\n}\n\nconst pemStyle = {\n  height: '240px',\n  width: '60%',\n  border:'1px solid #ccc',\n  font:'16px/26px Georgia, Garamond, Serif',\n  overflow:'auto',\n  // whiteSpace: 'pre-line',\n}\nexport default function CertificateView({api, keyring}: Props) {\n  const { index, hash } = useParams();\n  const [accounts, setAccounts] = useState<string[]>([]);\n  const [data, setData] = useState<string>();\n  const [pem, setPem] = useState<string>('');\n  const [rawCA, setRawCA] = useState<{notBefore?: {value: string}, notAfter?: {value: string}, version?: string, issuer?:{valueBeforeDecode: ArrayBuffer, typesAndValues:{value:{valueBlock: {value: string}}}[]}}>({});\n\n  useEffect(() => {\n    let unsubscribe: () => any;\n    const f = async() => {\n      await api.queryMulti([\n        [api.query.certificateModule.accountsByCAHash, hash],\n        [api.query.certificateModule.cADataByIndex, index],\n        [api.query.certificateModule.cAStore, index],\n      ], ([accounts, data, hexPem]:[string[], string, string]) => {\n        setAccounts(accounts);\n        setData(helper.hex2a(data));\n        const pem = helper.hex2a(hexPem);\n        setPem(pem);\n        setRawCA(createPKIJSCertificate(pem));\n      })\n    }\n      f()\n      .then((unsub: any) => { \n        unsubscribe = unsub;\n        console.log(rawCA);\n      })\n      .catch(console.error);\n\n    return () => unsubscribe && unsubscribe();\n  }, [])\n\n  const lineMaker = (str: string) =>{\n    return str.replace(/(.{150})/g, \"$1\\n\");\n  }\n  return(\n    <Segment>\n      <h1>CertificateView #{index}</h1>\n      <ul>\n        <li>Hash: {hash}</li>\n        <li>Data: {data}</li>\n  <li>notBefore: {rawCA.notBefore && rawCA.notBefore.value.toString()}</li>\n  <li>notAfter: {rawCA.notAfter && rawCA.notAfter.value.toString()}</li>\n  <li>version: {rawCA.version && rawCA.version.toString()}</li>\n  <li>issuer: \n    <ol>\n      {rawCA.issuer && rawCA.issuer.typesAndValues.map((val:{value: {valueBlock:{value: string}}}, i)=>{\n        return  <li key={i}>{val.value.valueBlock.value.toString()}</li>;\n      })}\n    </ol>\n  </li>\n        <li>Accounts: {accounts.length}\n        <ul>\n        {accounts.map((account, index)=>{\n          return(\n            <li key={index}>\n              {account.toString()}\n            </li>\n          );\n        })}\n        </ul></li>\n        <li>Votes</li>\n        <li>Pem: <div style={pemStyle}><p>{lineMaker(pem)}</p></div></li>\n      </ul>\n      \n    </Segment>\n  );\n}","import React, {useRef, useEffect, useState} from 'react';\nimport Timer from 'react-compound-timer';\nimport { Segment, Grid } from 'semantic-ui-react';\n\ntype Message = {\n  block:string; \n  length:number; \n  contents:string[] | undefined;\n};\n\nconst styles = { \n  number: {\n    fontSize: 64,\n    margin: 'none',\n    textAlign: 'center' as 'center'\n  },\n  ul: {\n    listStyleType:\"none\",\n    paddingLeft: '0'\n  },\n  detailsOl: {\n    margin: '0 0 .5em .5em'\n  },\n  details:{\n    border: '1px solid #aaa',\n    borderRadius: '4px',\n    padding: '.5em .5em 0',\n  },\n  summary: {\n    string: 'bold',\n    margin: '-.5em -.5em 0',\n    padding: '.5em'\n  }\n}\n\nexport default function ChainInfo({api, blockNumber}: {api:any; blockNumber:string}) {\n  const timer = useRef<any>(null);\n  const [prevBlock, setPrevBlock]= useState('0');\n  const [messages, setMessages] = useState<Message[]>([]);\n  const MAX_MESSAGES = 25;\n  useEffect(() => {\n    timer.current.reset();\n  }, [blockNumber])\n  \n  if(prevBlock != blockNumber) {\n    api.query.system.events((events:any) => {\n      let contents:string[] = [];\n\n      // Loop through the Vec<EventRecord>\n      events.forEach((record: { event: any; phase: any; }) => {\n        // Extract the phase, event and the event types\n        const { event, phase } = record;\n        const types = event.typeDef;\n\n        // Show what we are busy with\n        contents.push(`${event.section}:${event.method}:: (phase=${phase.toString()})`);\n        contents.push(`${event.meta.documentation.toString()}`);\n\n        // Loop through each of the parameters, displaying the type and data\n        event.data.forEach((data: { toString: () => any; }, index: string | number) => {\n          contents.push(`${types[index].type}: ${data.toString()}`);\n        });\n      });\n      let message:Message = {block: blockNumber.toString(), length: events.length, contents};\n\n      setPrevBlock(blockNumber);\n\n      let newMessages = [message, ...messages].slice(0, MAX_MESSAGES);\n      setMessages(newMessages);\n    });\n  }\n\n  return (\n        <Segment>\n          <Grid celled='internally'>\n            <Grid.Row>\n            <h3 style={{marginLeft:'.8em'}}>Current Block:</h3>\n            <p style={styles.number}>{`#${blockNumber}`}</p>\n            </Grid.Row>\n            <Grid.Row>\n            <Grid.Column width={8}>\n              <h3>Last Block:</h3>\n              <Timer ref={timer}>\n                <p style={styles.number}><Timer.Seconds />\n                {/* <Timer.Milliseconds /> */}\n                s</p>\n              </Timer>\n            </Grid.Column>\n            <Grid.Column width={8}>\n              <h3>Target:</h3>\n                <p style={styles.number}>6s</p>\n            </Grid.Column>\n            </Grid.Row>\n          </Grid>\n          \n          <h3>Events:</h3>\n          <ul style={styles.ul}>{messages.map((message, i)=>{\n            return <li key={i}>\n              <details style={styles.details}>\n                <summary style={styles.summary}>#{message.block}: {message.length} Event(s)</summary>\n              <ol style={styles.detailsOl}>\n                {message.contents && message.contents.map((message, i) => {\n                  return <li key={i}>{message}</li>\n                })}\n              </ol>\n            </details></li>\n          })}</ul>\n        </Segment>\n    );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));","// React API\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n// Polkadot API\nimport { ApiPromise, WsProvider } from '@polkadot/api';\nimport keyring from '@polkadot/ui-keyring';\n// Styles, tools\nimport { Container, Dimmer, Loader, Grid} from 'semantic-ui-react';\nimport types from './Type';\n// Components\nimport HomepageLayout from './HomepageLayout';\nimport MenuBar from './Menu/MenuBar';\nimport Footer from './Menu/Footer';\nimport Balances from './Transfer/Balances';\nimport NodeInfo from './Menu/NodeInfo';\nimport Transfer from './Transfer/Transfer';\nimport CreateVote from './Vote/createVote';\nimport VoteListings from './Vote/VoteListings';\nimport VoteView from './Vote/VoteView';\nimport Certificate from './Certificate/Certificate';\nimport Tutorial from './Tutorial/Tutorial';\n\nimport 'semantic-ui-css/semantic.min.css'\nimport CertificateView from './Certificate/CertificateView';\nimport ChainInfo from './Vote/ChainInfo';\n\nexport default function App () {\n  const [api, setApi] = useState();\n  const [apiReady, setApiReady] = useState();\n  const [blockNumber, setBlockNumber] = useState('0');\n  // let WS_PROVIDER = 'wss://m-governance.org';\n  let WS_PROVIDER = 'ws://localhost:9945';\n\n  useEffect(() => {\n    const provider = new WsProvider(WS_PROVIDER);\n    console.log(\"WS endpoint=\" + WS_PROVIDER);\n    ApiPromise.create({provider, types})\n      .then((api: { isReady: Promise<any>; }) => {\n        setApi(api);\n        api.isReady.then(() => setApiReady(true));\n      })\n      .catch((e: any) => console.error(e));\n  }, []);\n\n  useEffect(() => { \n    keyring.loadAll({\n      isDevelopment: true\n    });\n  },[]); \n\n  useEffect(() => {\n    if(apiReady){\n      let unsubscribe: () => void;\n      const f = async () => api.rpc.chain.subscribeNewHeads((header: { number: string; }) => {\n        setBlockNumber(header.number);\n      });\n      f().then(unsub => {\n        unsubscribe = unsub;\n      }).catch(console.error);\n      return () => unsubscribe && unsubscribe();\n    }\n  },[apiReady]);\n\n  const loader = function (text: string){\n    return (\n      <Dimmer active>\n        <Loader size='small'>{text}</Loader>\n      </Dimmer>\n    );\n  };\n  \n  if(!apiReady){\n    return loader('Connecting to the blockchain')\n  }\n  \n  return (\n    <Container fluid>\n      <NodeInfo\n        api={api}\n        blockNumber={blockNumber}\n      />\n\n      <Router>\n          <MenuBar/>\n          <Switch>\n            <Route \n              path=\"/vote/:id\" \n              children={<VoteView api={api} keyring={keyring} blockNumber={blockNumber}/>}\n            />\n            <Route path=\"/vote\">\n            <VoteListings\n              api={api}\n              keyring={keyring}\n              blockNumber={blockNumber}\n            />\n            <Grid>\n              <Grid.Row>\n              <Grid.Column width={10}>\n                <CreateVote\n                  api={api}\n                  keyring={keyring}\n                />\n              </Grid.Column>\n              <Grid.Column width={6}>\n                <ChainInfo \n                  api={api}\n                  blockNumber={blockNumber}\n                  />\n              </Grid.Column>\n              </Grid.Row>\n            </Grid>\n            </Route>\n\n            <Route path=\"/tutorial\">\n              <Tutorial />\n            </Route>\n            <Route path=\"/transfer\">\n            <Balances\n              keyring={keyring}\n              api={api}\n            />\n            <Transfer\n              api={api}\n              keyring={keyring}\n            />\n            </Route>\n            <Route \n              path=\"/certificate/:index/:hash\" \n              children={<CertificateView api={api} keyring={keyring}/>}\n            />\n            <Route path=\"/certificate\">\n              <Certificate\n                api={api}\n                keyring={keyring}\n              />\n            </Route>\n            <Route path=\"/\">\n            <HomepageLayout />\n            </Route>\n          </Switch>\n      </Router>\n      <Footer />\n    </Container>\n  );\n}","function hex2a(hexx: any) {\n  var hex = hexx.toString();//force conversion\n  var str = '';\n  for (var i = 0; (i < hex.length && hex.substr(i, 2) !== '00'); i += 2)\n      str += String.fromCharCode(parseInt(hex.substr(i, 2), 16));\n  return str;\n}\n\nexport{hex2a}","module.exports = __webpack_public_path__ + \"static/media/headerImage.921a8a97.jpg\";","module.exports = __webpack_public_path__ + \"static/media/image-01.13287163.jpg\";","module.exports = __webpack_public_path__ + \"static/media/logo.86ad1536.png\";"],"sourceRoot":""}