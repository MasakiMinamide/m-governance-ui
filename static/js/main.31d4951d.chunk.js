(this["webpackJsonpm-governance-ui"]=this["webpackJsonpm-governance-ui"]||[]).push([[0],{1224:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(154),l=a.n(c),o=a(11),i=a.n(o),s=a(24),u=a(65),m=a(135),d=a(363),p=a(128),f=a.n(p),h=a(1243),E=a(1238),b=a(1233),v={ReferenceIndex:"u64",data:"Vec<u8>",Vote:{id:"u64",vote_type:"u8",approved:"Hash",creator:"AccountId",when:"BlockNumber",vote_ends:"BlockNumber",concluded:"bool"},LockInfo:{deposit:"BalanceOf",duration:"BlockNumber",until:"BlockNumber"},Ballot:{_enum:["Aye","Nay"]},Certification:{cert:"Hash",signature:"Hash"},CentralAuthority:{ca_hash:"Hash",data:"Vec<u8>"}},g=a(68),y=a(5),x=a(6),k=a(224),w=a(222),C=a(226),S=a(1247),O=a(1246),j=a(1225),I=a(124),A=a(1234),F=a(369),R=a(1244),T=a(570),P=a(569),H=a(1235),M=a(545),V=a.n(M),N=a(546),z=a.n(N),B=function(){return"undefined"===typeof window?S.a.onlyTablet.minWidth:window.innerWidth},_={backgroundImage:"linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ), url(".concat(V.a,")"),backgroundSize:"contain",backgroundPosition:"center"},q=function(e){var t=e.mobile;return r.a.createElement(b.a,{text:!0},r.a.createElement(O.a,{as:"h1",content:"M-Governance",inverted:!0,style:{fontSize:t?"2em":"4em",fontWeight:"normal",marginBottom:0,marginTop:t?"1.5em":"3em"}}),r.a.createElement(O.a,{as:"h2",content:"Next Autonomous Decision Making Platform Powered by Substrate and Polkadot.",inverted:!0,style:{fontSize:t?"1.5em":"1.7em",fontWeight:"normal",marginTop:t?"0.5em":"1.5em"}}),r.a.createElement(u.b,{to:"/vote"},r.a.createElement(j.a,{primary:!0,size:"huge"},"Create Your First Vote",r.a.createElement(I.a,{name:"right arrow"}))))},G=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={},a.hideFixedMenu=function(){return a.setState({fixed:!1})},a.showFixedMenu=function(){return a.setState({fixed:!0})},a}return Object(C.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){var e=this.props.children;this.state.fixed;return r.a.createElement(S.a,{getWidth:B,minWidth:S.a.onlyTablet.minWidth},r.a.createElement(A.a,{once:!1,onBottomPassed:this.showFixedMenu,onBottomPassedReverse:this.hideFixedMenu},r.a.createElement(F.a,Object(g.a)({inverted:!0,textAlign:"center",style:{minHeight:700,padding:"1em 0em"},vertical:!0},"style",_),r.a.createElement(q,null))),e)}}]),t}(n.Component),W=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(k.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(r)))).state={},a.handleSidebarHide=function(){return a.setState({sidebarOpened:!1})},a.handleToggle=function(){return a.setState({sidebarOpened:!0})},a}return Object(C.a)(t,e),Object(x.a)(t,[{key:"render",value:function(){this.props.children,this.state.sidebarOpened;return r.a.createElement(S.a,{as:R.a.Pushable,getWidth:B,maxWidth:S.a.onlyMobile.maxWidth})}}]),t}(n.Component),D=function(e){var t=e.children;return r.a.createElement("div",null,r.a.createElement(G,null,t),r.a.createElement(W,null,t))},L=function(){return r.a.createElement(D,null,r.a.createElement(F.a,{style:{padding:"8em 0em"},vertical:!0},r.a.createElement(T.a,{container:!0,stackable:!0,verticalAlign:"middle"},r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Column,{width:8},r.a.createElement(O.a,{as:"h3",style:{fontSize:"2em"}},"Vote that can scale with existing blockchains. Modular and fully customizable."),r.a.createElement("p",{style:{fontSize:"1.33em"}},"M-Governance is both an independent blockchain and one of many parachains on Polkadot, which is the next Internet of Blockchain."),r.a.createElement(O.a,{as:"h3",style:{fontSize:"2em"}},"Flexible and Customizable"),r.a.createElement("p",{style:{fontSize:"1.33em"}},"You can choose cutting-edge voting mechanisms which best fit your needs.")),r.a.createElement(T.a.Column,{floated:"right",width:6},r.a.createElement(P.a,{bordered:!0,rounded:!0,size:"large",src:z.a}))),r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Column,{textAlign:"center"},r.a.createElement(u.b,{to:"/tutorial"},r.a.createElement(j.a,{size:"huge"},"Go to Tutorial",r.a.createElement(I.a,{name:"right arrow"}))))))),r.a.createElement(F.a,{style:{padding:"0em"},vertical:!0},r.a.createElement(T.a,{celled:"internally",columns:"equal",stackable:!0},r.a.createElement(T.a.Row,{textAlign:"center"},r.a.createElement(T.a.Column,{style:{paddingBottom:"5em",paddingTop:"5em"}},r.a.createElement(O.a,{as:"h3",style:{fontSize:"3em"}},"Compatible with many parachains on Polkadot"),r.a.createElement("p",{style:{fontSize:"2em"}},"Validated voting result can be used to trigger next event through Polkadot. ")),r.a.createElement(T.a.Column,{style:{paddingBottom:"5em",paddingTop:"5em"}},r.a.createElement(O.a,{as:"h3",style:{fontSize:"3em"}},"Various voting tools and models"),r.a.createElement("p",{style:{fontSize:"2em"}},"Quadratic Voting, Lock Voting, Normal Voting"))))),r.a.createElement(F.a,{style:{padding:"8em 0em"},vertical:!0},r.a.createElement(b.a,{text:!0},r.a.createElement(O.a,{as:"h3",style:{fontSize:"2em"}},"Register your certificate to join permitted voting."),r.a.createElement("p",{style:{fontSize:"1.33em"}},"From certificate tab, you can register your digital certificate to allow only those who have signed certificate to participate the voting. For example, you can register your country's national identity smart card to participate next municipal election voting process. You need Fortify app to interect with your smartcard. For more detail, please follow this link."),r.a.createElement(u.b,{to:"/certificate"},r.a.createElement(j.a,{size:"large"},"Register Certificate")),r.a.createElement(H.a,{as:"h4",className:"header",horizontal:!0,style:{margin:"3em 0em",textTransform:"uppercase"}},r.a.createElement("a",{href:"#"},"Case Studies")),r.a.createElement(O.a,{as:"h3",style:{fontSize:"2em"}},"M-Governance is compatible with Substrate account system."),r.a.createElement("p",{style:{fontSize:"1.33em"}},"You can use third-party extension to insert your account. Polkadot.js is an extension like a Metamask but for substrate based app."),r.a.createElement(j.a,{as:"a",size:"large"},"I'm Still Quite Interested"))))},U=a(568),K=a(1236);function J(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],l=function(e,t){var a=t.name;return c(a)};return r.a.createElement(U.a,{fluid:!0,widths:6},r.a.createElement(U.a.Item,{as:u.b,to:"/",name:"home",active:"home"===a,onClick:l},r.a.createElement(I.a,{name:"home"}),"Home"),r.a.createElement(U.a.Item,{as:u.b,to:"/tutorial",name:"tutorial",active:"tutorial"===a,onClick:l},r.a.createElement(I.a,{name:"inbox"}),"Tutorial"),r.a.createElement(U.a.Item,{as:u.b,to:"/vote",name:"vote",active:"vote"===a,onClick:l},r.a.createElement(I.a,{name:"th"}),"Vote"),r.a.createElement(U.a.Item,{as:u.b,to:"/transfer",name:"transfer",active:"transfer"===a,onClick:l},r.a.createElement(I.a,{name:"paper plane"}),"Transfer"),r.a.createElement(U.a.Item,{as:u.b,to:"/certificate",name:"certificate",active:"certificate"===a,onClick:l},r.a.createElement(I.a,{name:"certificate"}),"Certificate"),r.a.createElement(U.a.Item,null,r.a.createElement(K.a,{icon:"search",placeholder:"Vote ID..."})))}var Q=a(1240);function Y(){return r.a.createElement(F.a,{inverted:!0,vertical:!0,style:{padding:"5em 0em"}},r.a.createElement(b.a,null,r.a.createElement(T.a,{divided:!0,inverted:!0,stackable:!0},r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Column,{width:3},r.a.createElement(O.a,{inverted:!0,as:"h4",content:"About"}),r.a.createElement(Q.a,{link:!0,inverted:!0},r.a.createElement(Q.a.Item,{as:"a"},"Sitemap"),r.a.createElement(Q.a.Item,{as:"a"},"Contact Us"),r.a.createElement(Q.a.Item,{as:"a"},"Religious Ceremonies"),r.a.createElement(Q.a.Item,{as:"a"},"Gazebo Plans"))),r.a.createElement(T.a.Column,{width:3},r.a.createElement(O.a,{inverted:!0,as:"h4",content:"Sources"}),r.a.createElement(Q.a,{link:!0,inverted:!0},r.a.createElement(Q.a.Item,{as:"a",href:"https://github.com/MasakiMinamide/M-Governance",target:"_blank"},r.a.createElement(Q.a.Icon,{name:"github",size:"large",verticalAlign:"middle"}),"M-Governance"),r.a.createElement(Q.a.Item,{as:"a",href:"https://github.com/MasakiMinamide/m-governance-ui",target:"_blank"},r.a.createElement(Q.a.Icon,{name:"github",size:"large",verticalAlign:"middle"}),"UI"),r.a.createElement(Q.a.Item,{as:"a",href:"https://github.com/paritytech/polkadot",target:"_blank"},r.a.createElement(Q.a.Icon,{name:"github",size:"large",verticalAlign:"middle"}),"Polkadot"),r.a.createElement(Q.a.Item,{as:"a",href:"https://github.com/paritytech/substrate",target:"_blank"},r.a.createElement(Q.a.Icon,{name:"github",size:"large",verticalAlign:"middle"}),"Substrate"))),r.a.createElement(T.a.Column,{width:7},r.a.createElement(O.a,{as:"h4",inverted:!0},"Creator: Masaki Minamide"),r.a.createElement("p",null,r.a.createElement(I.a,{name:"github"}),r.a.createElement("a",{href:"https://github.com/MasakiMinamide",target:"_blank"},"Github")),r.a.createElement("p",null,r.a.createElement(I.a,{name:"twitter"}),r.a.createElement("a",{href:"https://twitter.com/masakiminamide",target:"_blank"},"Twitter")))))))}var $=a(44),X=a(1241);function Z(e){var t=e.api,a=e.keyring.getPairs(),c=a.map((function(e){return e.address})),l=a.map((function(e){return e.meta.name})),o=Object(n.useState)({}),i=Object(s.a)(o,2),u=i[0],m=i[1];return Object(n.useEffect)((function(){var e;return t.query.balances.freeBalance.multi(c,(function(e){var t=c.reduce((function(t,a,n){return Object($.a)({},t,Object(g.a)({},a,e[n].toString()))}),{});m(t)})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[t.query.balances.freeBalance]),r.a.createElement(F.a,null,r.a.createElement("h1",null,"Balances"),r.a.createElement(X.a,{celled:!0,striped:!0},r.a.createElement(X.a.Header,null,r.a.createElement(X.a.Row,null,r.a.createElement(X.a.HeaderCell,null,"Name"),r.a.createElement(X.a.HeaderCell,null,"Address"),r.a.createElement(X.a.HeaderCell,null,"Balance"))),r.a.createElement(X.a.Body,null,c.map((function(e,t){return r.a.createElement(X.a.Row,{key:t},r.a.createElement(X.a.Cell,{textAlign:"right"},l[t]),r.a.createElement(X.a.Cell,null,e),r.a.createElement(X.a.Cell,null,u&&u[e]))})))))}var ee=a(555),te=a.n(ee);function ae(e){var t=e.api,a=e.blockNumber,c=Object(n.useState)({chain:"",nodeName:"",nodeVersion:""}),l=Object(s.a)(c,2),o=l[0],i=l[1];return Object(n.useEffect)((function(){Promise.all([t.rpc.system.chain(),t.rpc.system.name(),t.rpc.system.version()]).then((function(e){var t=Object(s.a)(e,3),a=t[0],n=t[1],r=t[2];i({chain:a,nodeName:n,nodeVersion:r})})).catch((function(e){return console.error(e)}))}),[]),r.a.createElement(F.a,{className:"info"},r.a.createElement(T.a,{colums:2},r.a.createElement(T.a.Column,{style:{padding:"0",paddingTop:"5px"}},r.a.createElement(P.a,{circular:!0,centered:!0,src:te.a})),r.a.createElement(T.a.Column,{width:5},r.a.createElement(T.a.Row,null,r.a.createElement("div",{className:"chain",style:{fontSize:"16px"}},"M-Governance")),r.a.createElement(T.a.Row,null,r.a.createElement("div",{className:"chain",style:{fontSize:"16px"}},o.chain," - ",o.nodeName," (ver. ",o.nodeVersion,")")),r.a.createElement(T.a.Row,null,r.a.createElement("div",{className:"blockNumber",style:{fontSize:"16px",fontWeight:"bold"}},"# ".concat(a))))))}var ne=a(1239),re=a(1242),ce=a(1245);function le(e){var t=e.api,a=e.keyring,c=Object(n.useState)({header:"",content:"",success:!1,error:!1,warning:!1}),l=Object(s.a)(c,2),o=l[0],i=l[1],u=Object(n.useState)({addressFrom:"",addressTo:"",amount:0}),m=Object(s.a)(u,2),d=m[0],p=m[1],f=d.addressTo,h=d.addressFrom,E=d.amount,b=a.getPairs().map((function(e){return{key:e.address,value:e.address,text:e.meta.name.toUpperCase()}})),v=function(e,t){p((function(e){return Object($.a)({},e,Object(g.a)({},t.state,t.value))}))};return r.a.createElement(F.a,null,r.a.createElement("h1",null,"Transfer"),r.a.createElement(ne.a,null,r.a.createElement(ne.a.Field,null,r.a.createElement(re.a,{placeholder:"Select from  your accounts",fluid:!0,label:"From",onChange:v,search:!0,selection:!0,state:"addressFrom",options:b})),r.a.createElement(ne.a.Field,null,r.a.createElement(K.a,{onChange:v,label:"To",fluid:!0,placeholder:"address",state:"addressTo",type:"text"})),r.a.createElement(ne.a.Field,null,r.a.createElement(K.a,{label:"Amount",fluid:!0,onChange:v,state:"amount",type:"number"})),r.a.createElement(ne.a.Field,null,r.a.createElement(j.a,{onClick:function(){var e=a.getPair(h);i(Object($.a)({},o,{header:"Just one second",content:"Sending...",warning:!0})),t.tx.balances.transfer(f,E).signAndSend(e,(function(e){var t=e.status;t.isFinalized?i(Object($.a)({},o,{header:"Transaction Completed!",content:"Completed at block hash #".concat(t.asFinalized.toString()),success:!0})):i(Object($.a)({},o,{header:"",content:"Current transfer status: ".concat(t.type),warning:!0}))})).catch((function(e){i(Object($.a)({},o,{header:"Error",content:":( transaction failed. Check the log.",error:!0})),console.error("ERROR:",e)}))},primary:!0,type:"submit"},"Send"))),o.content&&r.a.createElement(ce.a,{success:o.success,error:o.error,warning:o.warning,header:o.header,content:o.content}))}var oe=a(48),ie=a(173),se=[{key:0,value:0,text:"Normal Vote"},{key:1,value:1,text:"Lock Vote"},{key:2,value:2,text:"Quadratic Vote"}];function ue(e){var t=e.api,a=e.keyring,c=Object(n.useState)({header:"",content:"",success:!1,error:!1,warning:!1}),l=Object(s.a)(c,2),o=l[0],i=l[1],u=Object(n.useState)({addressFrom:"",voteType:0,expLength:0,data:"",approved:0,key:""}),m=Object(s.a)(u,2),d=m[0],p=m[1],f=d.addressFrom,h=d.voteType,E=d.expLength,b=d.data,v=d.approved,y=Object(n.useState)([]),x=Object(s.a)(y,2),k=x[0],w=x[1],C=Object(n.useState)([{key:-1,value:-1,text:"Permissionless"}]),S=Object(s.a)(C,2),O=S[0],I=S[1],A=a.getPairs().map((function(e){return{key:e.address,value:e.address,text:e.meta.name.toUpperCase()}})),R=function(e,t){p((function(e){return Object($.a)({},e,Object(g.a)({},t.state,t.value))}))},T=function(e,t){w((function(e){return Object($.a)({},e,Object(g.a)({},t.state,t.value))}))};Object(n.useEffect)((function(){var e;return t.query.certificateModule.cAData((function(e){var t=function(t){parseInt(t)>=0&&I((function(a){return[].concat(Object(oe.a)(a),[{key:t,value:t,text:ie.hex2a(e[t])}])}))};for(var a in e)t(a)})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[]);var P=Object(n.useState)(2),H=Object(s.a)(P,2),M=H[0],V=H[1],N=function(e,t){V("add"===t.state?M+1:M-1)};return r.a.createElement(F.a,null,r.a.createElement("h1",null,"CreateVote"),r.a.createElement(F.a.Group,null,r.a.createElement(ne.a,null,r.a.createElement(ne.a.Field,null,r.a.createElement(re.a,{placeholder:"Select from your accounts",fluid:!0,label:"From",onChange:R,search:!0,selection:!0,state:"addressFrom",options:A})),r.a.createElement(ne.a.Field,null,r.a.createElement(re.a,{placeholder:"Select Vote type",fluid:!0,label:"VoteType",onChange:R,search:!0,selection:!0,state:"voteType",options:se})),r.a.createElement(ne.a.Field,null,r.a.createElement(K.a,{label:"Expire Length",fluid:!0,onChange:R,state:"expLength",placeholder:"BlockNumber: u64",type:"number"})),r.a.createElement(ne.a.Field,null,r.a.createElement(re.a,{placeholder:"Select CA from the list",fluid:!0,label:"Approved",onChange:R,search:!0,selection:!0,state:"approved",options:O})),r.a.createElement(ne.a.Field,null,r.a.createElement(K.a,{label:"Data",fluid:!0,onChange:R,state:"data",type:"string"})),r.a.createElement(ne.a.Field,null,r.a.createElement("div",{className:"ui--Param-Vector-buttons"},r.a.createElement(j.a,{primary:!0,onClick:N,state:"add",content:"Add item",icon:"add"}),r.a.createElement(j.a,{disabled:0===M,negative:!0,onClick:N,state:"remove",content:"Remove item",icon:"minus"})),r.a.createElement("div",null,Object(oe.a)(Array(M).keys()).map((function(e){return++e})).map((function(e,t){return r.a.createElement(K.a,{key:t,onChange:T,label:"optionInput",fluid:!0,placeholder:"option: ".concat(t),state:t,type:"string"})})))),r.a.createElement(ne.a.Field,null,r.a.createElement(j.a,{onClick:function(){var e=a.getPair(f),n=Object.values(k).map((function(e){return e}));i(Object($.a)({},o,{header:"Just one second",content:"Sending...",warning:!0})),t.tx.governanceModule.createVote(h,E,b,v+1,n).signAndSend(e,(function(e){var t=e.status;t.isFinalized?i(Object($.a)({},o,{header:"Transaction Completed!",content:"Completed at block hash #".concat(t.asFinalized.toString()),success:!0})):i(Object($.a)({},o,{header:"",content:"Current transfer status: ".concat(t.type),warning:!0}))})).catch((function(e){i(Object($.a)({},o,{header:"Error",content:":( transaction failed. Check the log.",error:!0})),console.error("ERROR:",e)}))},primary:!0,type:"submit"},"Send")))),o.content&&r.a.createElement(ce.a,{success:o.success,error:o.error,warning:o.warning,header:o.header,content:o.content}))}function me(e){var t=e.api,a=e.blockNumber,c=Object(n.useState)(0),l=Object(s.a)(c,2),o=l[0],i=l[1],m=Object(n.useState)([]),d=Object(s.a)(m,2),p=d[0],f=d[1],h=Object(n.useState)([]),E=Object(s.a)(h,2),b=E[0],v=E[1];Object(n.useEffect)((function(){var e;return t.query.governanceModule.allVoteCount((function(e){i(parseInt(e.words))})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[t.query.governanceModule.createVote]),Object(n.useEffect)((function(){var e,a=Object(oe.a)(Array(o).keys()).map((function(e){return++e}));return v(a),f([]),t.query.governanceModule.votesByIndex.multi(a,(function(e){var t=!0,a=!1,n=void 0;try{for(var r,c=function(){var e=r.value;f((function(t){return[].concat(Object(oe.a)(t),[{id:e.id.toString(),vote_type:e.vote_type.toString(),approved:e.approved.toString(),creator:e.creator.toString(),when:e.when.toString(),vote_ends:e.vote_ends.toString(),concluded:e.concluded.toString()}])}))},l=e[Symbol.iterator]();!(t=(r=l.next()).done);t=!0)c()}catch(o){a=!0,n=o}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[o]);return r.a.createElement(F.a.Group,null,r.a.createElement(F.a,null,r.a.createElement("h1",null,"Votes: ",o)),r.a.createElement(F.a.Group,null,r.a.createElement(X.a,{celled:!0,striped:!0},r.a.createElement(X.a.Header,null,r.a.createElement(X.a.Row,null,r.a.createElement(X.a.HeaderCell,null,"ID"),r.a.createElement(X.a.HeaderCell,null,"VoteType"),r.a.createElement(X.a.HeaderCell,null,"Approved"),r.a.createElement(X.a.HeaderCell,null,"Creator"),r.a.createElement(X.a.HeaderCell,null,"When"),r.a.createElement(X.a.HeaderCell,null,"VoteEnds"),r.a.createElement(X.a.HeaderCell,null,"Concluded"))),r.a.createElement(X.a.Body,null,b.map((function(e,t){return r.a.createElement(X.a.Row,{key:e},r.a.createElement(X.a.Cell,{textAlign:"right"},r.a.createElement(u.b,{to:"/vote/".concat(e)},e)),r.a.createElement(X.a.Cell,null,p[t]&&function(e){switch(e){case"0":return"Vote";case"1":return"LockVote";default:return"Undefined Vote"}}(p[t].vote_type)),r.a.createElement(X.a.Cell,null,p[t]&&p[t].approved),r.a.createElement(X.a.Cell,null,p[t]&&p[t].creator),r.a.createElement(X.a.Cell,null,p[t]&&p[t].when),r.a.createElement(X.a.Cell,{style:(c=p[t]&&p[t].vote_ends,parseInt(c)>a?{color:"green"}:{color:"red"})},p[t]&&p[t].vote_ends),r.a.createElement(X.a.Cell,{style:(n=p[t]&&p[t].concluded,"true"===n?{color:"green"}:{color:"red"})},p[t]&&p[t].concluded));var n,c}))))))}var de=a(1248),pe=a(173);function fe(e){var t=e.api,a=e.keyring,c=e.id,l=e.options,o=Object(n.useState)({header:"",content:"",success:!1,error:!1,warning:!1}),i=Object(s.a)(o,2),u=i[0],m=i[1],d={addressFrom:"",reference_id:c},p=Object(n.useState)(d),f=Object(s.a)(p,2),h=f[0],E=f[1],b=h.addressFrom,v=h.reference_id,y=h.ballot,x=l.map((function(e,t){return{key:t,value:t,text:pe.hex2a(e)}})),k=a.getPairs().map((function(e){return{key:e.address,value:e.address,text:e.meta.name.toUpperCase()}})),w=function(e,t){E((function(e){return Object($.a)({},e,Object(g.a)({},t.state,t.value))}))};return r.a.createElement(F.a,null,r.a.createElement("h1",null,"Cast Ballot"),r.a.createElement(ne.a,null,r.a.createElement(ne.a.Field,null,r.a.createElement(re.a,{placeholder:"Select from your accounts",fluid:!0,label:"From",onChange:w,search:!0,selection:!0,state:"addressFrom",options:k})),r.a.createElement(ne.a.Field,null,r.a.createElement(re.a,{placeholder:"Select your answer",label:"Ballot",fluid:!0,onChange:w,search:!0,selection:!0,state:"ballot",options:x})),r.a.createElement(ne.a.Field,null,r.a.createElement(j.a,{onClick:function(){var e=a.getPair(b);m(Object($.a)({},u,{header:"Just one second",content:"Sending...",warning:!0})),t.tx.governanceModule.castBallotWithOptions(v,y).signAndSend(e,(function(e){var t=e.status;t.isFinalized?m(Object($.a)({},u,{header:"Transaction Completed!",content:"Completed at block hash #".concat(t.asFinalized.toString()),success:!0})):m(Object($.a)({},u,{header:"",content:"Current transfer status: ".concat(t.type),warning:!0}))})).catch((function(e){m(Object($.a)({},u,{header:"Error",content:":( transaction failed. Check the log.",error:!0})),console.error("ERROR:",e)}))},primary:!0,type:"submit"},"Send"))),u.content&&r.a.createElement(ce.a,{success:u.success,error:u.error,warning:u.warning,header:u.header,content:u.content}))}function he(e){var t=e.api,a=e.keyring,c=e.id,l=e.blockNumber,o=e.vote_ends,i=e.concluded,u=Object(n.useState)({header:"",content:"",success:!1,error:!1,warning:!1}),m=Object(s.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)({isExpired:!1,isConcluded:!1,isSelected:!1}),h=Object(s.a)(f,2),E=h[0],b=h[1],v=E.isExpired,y=E.isConcluded,x=E.isSelected,k={addressFrom:"",reference_id:c},w=Object(n.useState)(k),C=Object(s.a)(w,2),S=C[0],O=C[1],I=S.addressFrom,A=S.reference_id,R=a.getPairs().map((function(e){return{key:e.address,value:e.address,text:e.meta.name.toUpperCase()}}));Object(n.useEffect)((function(){return o<l&&b((function(e){return Object($.a)({},e,{isExpired:o>0&&o<l,isConcluded:"true"===i})})),function(){}}),[l,x,i,o]);return r.a.createElement(F.a,null,r.a.createElement("h1",null,"Conclude Vote"),r.a.createElement("ul",null," Requirements",r.a.createElement("li",null,"isConcluded: ",y?"True":"False"),r.a.createElement("li",null,"isExpired: ",v?"True":"False"),r.a.createElement("li",null,"isSelected: ",x?"True":"False")),r.a.createElement(ne.a,null,r.a.createElement(ne.a.Field,null,r.a.createElement(re.a,{placeholder:"Select from your accounts",fluid:!0,label:"From",onChange:function(e,t){b((function(e){return Object($.a)({},e,{isSelected:"addressFrom"===t.state})})),O((function(e){return Object($.a)({},e,Object(g.a)({},t.state,t.value))}))},search:!0,selection:!0,state:"addressFrom",options:R})),r.a.createElement(ne.a.Field,null,r.a.createElement(j.a,{onClick:function(){var e=a.getPair(I);p(Object($.a)({},d,{header:"Just one second",content:"Sending...",warning:!0})),t.tx.governanceModule.concludeVote(A).signAndSend(e,(function(e){var t=e.status;t.isFinalized?p(Object($.a)({},d,{header:"Transaction Completed!",content:"Completed at block hash #".concat(t.asFinalized.toString()),success:!0})):p(Object($.a)({},d,{header:"",content:"Current transfer status: ".concat(t.type),warning:!0}))})).catch((function(e){p(Object($.a)({},d,{header:"Error",content:":( transaction failed. Check the log.",error:!0})),console.error("ERROR:",e)}))},disabled:function(e,t,a){return!(!e&&t&&a)}(y,x,v),primary:!0,type:"submit"},"Conclude"))),d.content&&r.a.createElement(ce.a,{success:d.success,error:d.error,warning:d.warning,header:d.header,content:d.content}))}var Ee=a(565),be=a(173);function ve(e){var t=e.options,a=e.accounts,n={labels:t.map((function(e){return be.hex2a(e)})),datasets:[{data:a.map((function(e){return e.length})),backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]};return r.a.createElement("div",null,r.a.createElement("h1",null,"Result Chart"),r.a.createElement(Ee.a,{data:n}))}var ge=a(173);function ye(e){var t=e.api,a=e.keyring,c=e.blockNumber,l=Object(m.f)().id,o=Object(n.useState)({vote_type:0}),d=Object(s.a)(o,2),p=d[0],f=d[1],h=p.vote_type,E=p.approved,b=p.creator,v=p.vote_ends,g=p.when,y=p.concluded,x=p.data,k=Object(n.useState)([]),w=Object(s.a)(k,2),C=w[0],S=w[1],O=Object(n.useState)([]),j=Object(s.a)(O,2),I=j[0],A=j[1],R=[{menuItem:{key:"voteView",icon:"info",content:"VoteView"},render:function(){return r.a.createElement(de.a.Pane,null,P(),r.a.createElement(fe,{api:t,keyring:a,id:l,options:C}),r.a.createElement(ve,{options:C,accounts:I}))}},{menuItem:{key:"conclude",icon:"check circle",content:"Conclude"},render:function(){return r.a.createElement(de.a.Pane,null,r.a.createElement(he,{api:t,keyring:a,id:l,vote_ends:parseInt(v),concluded:y,blockNumber:parseInt(c)}))}}];Object(n.useEffect)((function(){var e;return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.awrap(t.queryMulti([[t.query.governanceModule.votesByIndex,l],[t.query.governanceModule.data,l],[t.query.governanceModule.voteOptions,l]],(function(e){var t=Object(s.a)(e,3),a=t[0],n=t[1],r=t[2];f({vote_type:a.vote_type.toString(),approved:a.approved.toString(),creator:a.creator.toString(),when:a.when.toString(),vote_ends:a.vote_ends.toString(),concluded:a.concluded.toString(),data:ge.hex2a(n)}),S(r),T(r)})));case 2:case"end":return e.stop()}})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[l]);var T=function(e){var a;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a=Object(oe.a)(Array(e.length).keys()).map((function(e){return++e})),n.next=3,i.a.awrap(t.query.governanceModule.accountsByOption.multi(a.map((function(e){return[l,e-1]})),(function(e){A(e)})));case 3:case"end":return n.stop()}}))},P=function(){return r.a.createElement(F.a,null,r.a.createElement("div",{style:{float:"left"}},r.a.createElement(u.b,{to:"/vote/".concat(parseInt(l)-1)},r.a.createElement("h3",null,"Before"))),r.a.createElement("div",{style:{paddingLeft:"20px",float:"left"}},r.a.createElement(u.b,{to:"/vote/".concat(parseInt(l)+1)},r.a.createElement("h3",null,"Next"))),r.a.createElement("h1",{style:{clear:"both"}},"Vote#",l),r.a.createElement("ul",{style:{listStyleType:"none"}},r.a.createElement("li",null,"Data: ",x),r.a.createElement("li",null,"CreatedAt# ",g),r.a.createElement("li",null,"Creator: ",b),r.a.createElement("li",null,"VoteType: ",function(e){switch(e){case"0":return"Vote";case"1":return"LockVote";default:return"Undefined Vote"}}(h)),r.a.createElement("li",null,"Approved: ",E),r.a.createElement("li",null,"VoteEndsAt# ",v),r.a.createElement("li",null,"Concluded: ",y),r.a.createElement("li",null,r.a.createElement("ul",null,"Options:",C.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("ul",null,ge.hex2a(e),": ",I[t]&&I[t].length,I[t]&&I[t].map((function(e,t){return r.a.createElement("li",{key:t},e.toString())}))))}))))))};return r.a.createElement(F.a.Group,null,r.a.createElement(de.a,{menu:{color:"grey",inverted:!0},panes:R}))}var xe=a(1220),ke=a(262);function we(e){var t=e.ws,a=e.wsReady,c=Object(n.useState)(""),l=Object(s.a)(c,2),o=l[0],u=l[1],m=Object(n.useState)([]),d=Object(s.a)(m,2),p=d[0],f=d[1],b=Object(n.useState)([]),v=Object(s.a)(b,2),g=v[0],y=v[1],x=Object(n.useState)([]),k=Object(s.a)(x,2),w=k[0],C=k[1];var S=function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t.info().then((function(e){f([]),y([]);var t=function(t){f((function(a){return[].concat(Object(oe.a)(a),[{key:e.providers[t].id,value:e.providers[t].id,text:e.providers[t].name}])})),y((function(a){return[].concat(Object(oe.a)(a),[{id:e.providers[t].id,name:e.providers[t].name,atr:e.providers[t].atr||"None"}])}))};for(var a in e.providers)t(a)}));case 1:case"end":return e.stop()}}))};function O(e){var a,n,r,c,l,o,s,u,m,d,p,f,h,E;return i.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,i.a.awrap(t.getCrypto(e));case 2:return a=b.sent,b.next=5,i.a.awrap(a.reset());case 5:return b.next=7,i.a.awrap(a.isLoggedIn());case 7:if(b.sent){b.next=10;break}return b.next=10,i.a.awrap(a.login());case 10:return b.next=12,i.a.awrap(a.certStorage.keys());case 12:n=b.sent,C([]),r=!0,c=!1,l=void 0,b.prev=17,o=function(){var e,t;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=u.value,r.prev=1,r.next=4,i.a.awrap(a.certStorage.getItem(e));case 4:t=r.sent,e===n[1]&&t.publicKey,C((function(a){return[].concat(Object(oe.a)(a),[{index:e,id:t.id,type:t.type,subjectName:t.subjectName}])})),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),console.error("Cannot get ".concat(e," from CertificateStorage")),console.error(r.t0);case 13:case"end":return r.stop()}}),null,null,[[1,9]])},s=n[Symbol.iterator]();case 20:if(r=(u=s.next()).done){b.next=26;break}return b.next=23,i.a.awrap(o());case 23:r=!0,b.next=20;break;case 26:b.next=32;break;case 28:b.prev=28,b.t0=b.catch(17),c=!0,l=b.t0;case 32:b.prev=32,b.prev=33,r||null==s.return||s.return();case 35:if(b.prev=35,!c){b.next=38;break}throw l;case 38:return b.finish(35);case 39:return b.finish(32);case 40:return b.next=42,i.a.awrap(a.keyStorage.keys());case 42:n=b.sent,m=!0,d=!1,p=void 0,b.prev=46,f=function(){var e,t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=E.value,n.prev=1,n.next=4,i.a.awrap(a.keyStorage.getItem(e));case 4:t=n.sent,C((function(a){return[].concat(Object(oe.a)(a),[{index:e,id:t.id,type:t.type,subjectName:t.algorithm.name}])})),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(1),console.error("Cannot get ".concat(e," from CertificateStorage")),console.error(n.t0);case 12:case"end":return n.stop()}}),null,null,[[1,8]])},h=n[Symbol.iterator]();case 49:if(m=(E=h.next()).done){b.next=55;break}return b.next=52,i.a.awrap(f());case 52:m=!0,b.next=49;break;case 55:b.next=61;break;case 57:b.prev=57,b.t1=b.catch(46),d=!0,p=b.t1;case 61:b.prev=61,b.prev=62,m||null==h.return||h.return();case 64:if(b.prev=64,!d){b.next=67;break}throw p;case 67:return b.finish(64);case 68:return b.finish(61);case 69:case"end":return b.stop()}}),null,null,[[17,28,32,40],[33,,35,39],[46,57,61,69],[62,,64,68]])}return Object(n.useEffect)((function(){var e;return t&&i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:t.connect("127.0.0.1:31337").on("error",(function(e){console.error(e)})).on("listening",(function(e){var a;return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.awrap(t.isLoggedIn());case 2:if(e.sent){e.next=9;break}return e.next=5,i.a.awrap(t.challenge());case 5:return a=e.sent,setTimeout((function(){alert("2key session PIN:"+a)}),100),e.next=9,i.a.awrap(t.login());case 9:return e.next=11,i.a.awrap(S());case 11:t.cardReader.on("insert",S).on("remove",S);case 12:case"end":return e.stop()}}))}));case 1:case"end":return e.stop()}})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[a]),a?r.a.createElement(F.a,null,r.a.createElement("h2",null,"Enumerate providers and their contents"),r.a.createElement(ne.a,null,r.a.createElement("h3",null,"1: Select provider:"),r.a.createElement(ne.a.Field,null,r.a.createElement(re.a,{placeholder:"Providers",fluid:!0,label:"Providers",onChange:function(e,t){var a;u(null===(a=t.value)||void 0===a?void 0:a.toString())},search:!0,selection:!0,state:"providers",options:p.length>0?p:[{key:"None",value:"None",text:"None"}]})),r.a.createElement(ne.a.Field,null,r.a.createElement(j.a,{onClick:function(){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:o&&O(o);case 1:case"end":return e.stop()}}))},primary:!0,type:"submit"},"Refresh"))),r.a.createElement("div",null,r.a.createElement("h3",null,"Providers:"),r.a.createElement(X.a,{celled:!0,striped:!0},r.a.createElement(X.a.Header,null,r.a.createElement(X.a.Row,null,r.a.createElement(X.a.HeaderCell,null,"Id"),r.a.createElement(X.a.HeaderCell,null,"Name"),r.a.createElement(X.a.HeaderCell,null,"ATR"))),r.a.createElement(X.a.Body,null,g.map((function(e,t){return r.a.createElement(X.a.Row,{key:t},r.a.createElement(X.a.Cell,null,e.id),r.a.createElement(X.a.Cell,null,e.name),r.a.createElement(X.a.Cell,null,e.atr||"none"))})))),r.a.createElement("h3",null,"Items:"),r.a.createElement(X.a,{celled:!0,striped:!0},r.a.createElement(X.a.Header,null,r.a.createElement(X.a.Row,null,r.a.createElement(X.a.HeaderCell,null,"Index"),r.a.createElement(X.a.HeaderCell,null,"ID"),r.a.createElement(X.a.HeaderCell,null,"Type"),r.a.createElement(X.a.HeaderCell,null,"Name"))),r.a.createElement(X.a.Body,null,w.map((function(e,a){return r.a.createElement(X.a.Row,{key:a},r.a.createElement(X.a.Cell,{onClick:function(a){return function(e,a){var n,r,c,l,s,u;return i.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return e.preventDefault(),m.prev=1,m.next=4,i.a.awrap(t.getCrypto(o));case 4:return n=m.sent,m.next=7,i.a.awrap(n.isLoggedIn());case 7:if(m.sent){m.next=10;break}return m.next=10,i.a.awrap(n.login());case 10:r=a.split("-"),m.t0=r[0],m.next="x509"===m.t0?14:"public"===m.t0?21:30;break;case 14:return m.next=16,i.a.awrap(n.certStorage.getItem(a));case 16:return c=m.sent,m.next=19,i.a.awrap(n.certStorage.exportCert("PEM",c));case 19:return l=m.sent,m.abrupt("break",31);case 21:return m.next=23,i.a.awrap(n.keyStorage.getItem(a));case 23:return c=m.sent,m.next=26,i.a.awrap(n.subtle.exportKey("jwk",c));case 26:return u=m.sent,l=xe(u),s=ke.Convert.ToHex(l),m.abrupt("break",31);case 30:return m.abrupt("break",31);case 31:console.log(l),console.log(s),m.next=38;break;case 35:m.prev=35,m.t1=m.catch(1),console.error(m.t1);case 38:case"end":return m.stop()}}),null,null,[[1,35]])}(a,e.index)}},e.index),r.a.createElement(X.a.Cell,null,e.id),r.a.createElement(X.a.Cell,null,e.type),r.a.createElement(X.a.Cell,null,e.subjectName||"none"))})))))):r.a.createElement(F.a,null,r.a.createElement(h.a,{active:!0,inverted:!0},r.a.createElement(E.a,{size:"large"},"Connecting to WebcryptoSocket. Please install Fortify to use this feature!")),r.a.createElement(P.a,{src:"https://react.semantic-ui.com/images/wireframe/paragraph.png"}))}var Ce=a(123),Se=a(262),Oe=a(263),je=a(173);function Ie(e){var t=e.api,a=e.keyring,c=e.ws,l=e.caOptions,o=a.getPairs().map((function(e){return{key:e.address,value:e.address,text:e.meta.name.toUpperCase()}})),u=l.map((function(e,t){return{key:t,value:t,text:je.hex2a(e)}})),m=Object(n.useState)(""),d=Object(s.a)(m,2),p=d[0],f=d[1],h=Object(n.useState)({addressFrom:"",certificateIndex:"",hexThumbSignature:"",privateKeyIndex:"",CAIndex:0}),E=Object(s.a)(h,2),b=E[0],v=E[1],y=b.addressFrom,x=b.hexThumbSignature,k=b.certificateIndex,w=b.CAIndex,C=Object(n.useState)([]),S=Object(s.a)(C,2),I=S[0],A=S[1],R=Object(n.useState)(),T=Object(s.a)(R,2),P=T[0],H=T[1],M=Object(n.useState)({verified:!1,validated:!1}),V=Object(s.a)(M,2),N=V[0],z=V[1],B=N.verified,_=N.validated,q=Object(n.useState)(""),G=Object(s.a)(q,2),W=G[0],D=G[1],L=Object(n.useState)([]),U=Object(s.a)(L,2),K=U[0],J=U[1],Q=function(e,t){console.log(t.value),v((function(e){return Object($.a)({},e,Object(g.a)({},t.state,t.value))}))},Y=function(e,t){var a,n,r,l,o,s;return i.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,i.a.awrap(c.getCrypto(P));case 2:return a=u.sent,u.next=5,i.a.awrap(Z("public",a,k));case 5:if(n=u.sent,r={name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},"RSA-OAEP"!==n.algorithm.name){u.next=14;break}return u.next=10,i.a.awrap(a.subtle.exportKey("spki",n));case 10:return o=u.sent,u.next=13,i.a.awrap(a.subtle.importKey("spki",o,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!0,["verify"]));case 13:l=u.sent;case 14:return u.prev=14,u.next=17,i.a.awrap(a.subtle.verify(r,l||n,e,t));case 17:s=u.sent,z({verified:s,validated:_}),u.next=24;break;case 21:u.prev=21,u.t0=u.catch(14),console.error(u.t0);case 24:case"end":return u.stop()}}),null,null,[[14,21]])},X=function(e){var t,a,n,r;return i.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,i.a.awrap(c.getCrypto(e));case 2:return t=l.sent,l.next=5,i.a.awrap(t.reset());case 5:return l.next=7,i.a.awrap(t.isLoggedIn());case 7:if(l.sent){l.next=10;break}return l.next=10,i.a.awrap(t.login());case 10:return a=[],n=function(){var e,n,r,c,l,o,s;return i.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,i.a.awrap(t.keyStorage.keys());case 2:e=u.sent,n=!0,r=!1,c=void 0,u.prev=6,l=e[Symbol.iterator]();case 8:if(n=(o=l.next()).done){u.next=24;break}return s=o.value,u.prev=10,u.next=13,i.a.awrap(t.keyStorage.getItem(s));case 13:"private"===u.sent.type&&a.push(s),u.next=21;break;case 17:u.prev=17,u.t0=u.catch(10),console.error("Cannot get ".concat(s," from CertificateStorage")),console.error(u.t0);case 21:n=!0,u.next=8;break;case 24:u.next=30;break;case 26:u.prev=26,u.t1=u.catch(6),r=!0,c=u.t1;case 30:u.prev=30,u.prev=31,n||null==l.return||l.return();case 33:if(u.prev=33,!r){u.next=36;break}throw c;case 36:return u.finish(33);case 37:return u.finish(30);case 38:case"end":return u.stop()}}),null,null,[[6,26,30,38],[10,17],[31,,33,37]])},r=function(){var e,n,r,c,l,o,s,u,m,d,p,f,h,E;return i.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,i.a.awrap(t.certStorage.keys());case 2:e=b.sent,A([]),n=!0,r=!1,c=void 0,b.prev=7,l=a[Symbol.iterator]();case 9:if(n=(o=l.next()).done){b.next=41;break}s=o.value,u=s.split("-"),m=!0,d=!1,p=void 0,b.prev=15,f=function(){var e,a,n;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e=E.value,a=e.split("-"),u[2]!==a[2]){r.next=14;break}return r.prev=3,r.next=6,i.a.awrap(t.certStorage.getItem(e));case 6:n=r.sent,A((function(t){return[].concat(Object(oe.a)(t),[{key:e,value:e,text:"".concat(Ae(n.subjectName),": ").concat(e)}])})),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(3),console.error("Cannot get ".concat(e," from CertificateStorage")),console.error(r.t0);case 14:case"end":return r.stop()}}),null,null,[[3,10]])},h=e[Symbol.iterator]();case 18:if(m=(E=h.next()).done){b.next=24;break}return b.next=21,i.a.awrap(f());case 21:m=!0,b.next=18;break;case 24:b.next=30;break;case 26:b.prev=26,b.t0=b.catch(15),d=!0,p=b.t0;case 30:b.prev=30,b.prev=31,m||null==h.return||h.return();case 33:if(b.prev=33,!d){b.next=36;break}throw p;case 36:return b.finish(33);case 37:return b.finish(30);case 38:n=!0,b.next=9;break;case 41:b.next=47;break;case 43:b.prev=43,b.t1=b.catch(7),r=!0,c=b.t1;case 47:b.prev=47,b.prev=48,n||null==l.return||l.return();case 50:if(b.prev=50,!r){b.next=53;break}throw c;case 53:return b.finish(50);case 54:return b.finish(47);case 55:case"end":return b.stop()}}),null,null,[[7,43,47,55],[15,26,30,38],[31,,33,37],[48,,50,54]])},l.next=15,i.a.awrap(n());case 15:return l.next=17,i.a.awrap(r());case 17:case"end":return l.stop()}}))},Z=function(e,t,a){var n,r,c,l,o,s,u,m,d,p;return i.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,i.a.awrap(t.keyStorage.keys());case 2:n=f.sent,r=!0,c=!1,l=void 0,f.prev=6,o=n[Symbol.iterator]();case 8:if(r=(s=o.next()).done){f.next=20;break}if(u=s.value,(m=u.split("-"))[0]!==e||m[2]!==a.split("-")[2]){f.next=17;break}return f.next=14,i.a.awrap(t.keyStorage.getItem(u));case 14:if(!(d=f.sent)){f.next=17;break}return f.abrupt("return",d);case 17:r=!0,f.next=8;break;case 20:f.next=26;break;case 22:f.prev=22,f.t0=f.catch(6),c=!0,l=f.t0;case 26:f.prev=26,f.prev=27,r||null==o.return||o.return();case 29:if(f.prev=29,!c){f.next=32;break}throw l;case 32:return f.finish(29);case 33:return f.finish(26);case 34:if("public"!==e){f.next=40;break}return f.next=37,i.a.awrap(t.certStorage.getItem(a));case 37:if(!(p=f.sent)){f.next=40;break}return f.abrupt("return",p.publicKey);case 40:return f.abrupt("return",null);case 41:case"end":return f.stop()}}),null,null,[[6,22,26,34],[27,,29,33]])};Object(n.useEffect)((function(){c&&i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:c.connect("127.0.0.1:31337").on("error",(function(e){console.error(e)})).on("listening",(function(e){var t;return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.awrap(c.isLoggedIn());case 2:if(e.sent){e.next=9;break}return e.next=5,i.a.awrap(c.challenge());case 5:return t=e.sent,setTimeout((function(){alert("2key session PIN:"+t)}),100),e.next=9,i.a.awrap(c.login());case 9:if(!P){e.next=12;break}return e.next=12,i.a.awrap(X(P));case 12:return e.next=14,i.a.awrap(i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:c.info().then((function(e){J([]);var t=function(t){J((function(a){return[].concat(Object(oe.a)(a),[{key:e.providers[t].id,value:e.providers[t].id,text:e.providers[t].name}])}))};for(var a in e.providers)t(a)}));case 1:case"end":return e.stop()}})));case 14:case"end":return e.stop()}}))}));case 1:case"end":return e.stop()}}))}),[]);var ee=function(e){return e?{color:"green"}:{color:"red"}};return r.a.createElement(F.a,null,r.a.createElement("h1",null,"Register"),r.a.createElement("h3",null,"Requirements:"),r.a.createElement("ul",null,r.a.createElement("li",{style:ee(!!b.addressFrom)},"Account: ",b.addressFrom||"None"),r.a.createElement("li",{style:ee(!!b.hexThumbSignature)},"Signed Account: ",b.hexThumbSignature||"None"),r.a.createElement("li",{style:ee(!!b.certificateIndex)},"Certification: ",b.certificateIndex||"None"),r.a.createElement("li",{style:ee(B)},"Sign Verification: ",B?"True":"False"),r.a.createElement("li",{style:ee(_)},"Cert Validation: ",_?"True":"False")),r.a.createElement("h2",null,"Sign your Account"),r.a.createElement(ne.a,null,r.a.createElement(ne.a.Field,null,r.a.createElement(re.a,{placeholder:"Select from your accounts",fluid:!0,label:"From",onChange:Q,search:!0,selection:!0,state:"addressFrom",options:o})),r.a.createElement(ne.a.Field,null,r.a.createElement(re.a,{placeholder:"Select from your providers",fluid:!0,label:"Provider",onChange:function(e,t){return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:H(t.value),X(t.value);case 2:case"end":return e.stop()}}))},search:!0,selection:!0,state:"provider",options:K})),r.a.createElement(ne.a.Field,null,r.a.createElement(re.a,{placeholder:"Select from your certificates",fluid:!0,label:"certificateIndex",onChange:Q,search:!0,selection:!0,state:"certificateIndex",options:I})),r.a.createElement(ne.a.Field,null,r.a.createElement(j.a,{onClick:function(){var e,t,a,n,r,l,o;return i.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,i.a.awrap(c.getCrypto(P));case 3:return e=s.sent,s.next=6,i.a.awrap(Z("private",e,k));case 6:return t=s.sent,console.log(t),a={name:t.algorithm.name||"RSASSA-PKCS1-v1_5",hash:"SHA-256"},n=Se.Convert.FromUtf8String(y),console.log(Se.Convert.ToHex(n)),s.next=13,i.a.awrap(e.subtle.sign(a,t,n));case 13:return r=s.sent,s.next=16,i.a.awrap(e.subtle.digest("SHA-256",r));case 16:l=s.sent,o=Se.Convert.ToHex(l),v((function(e){return Object($.a)({},e,{hexThumbSignature:o,signature:r,message:n})})),console.log(Se.Convert.ToHex(r)),Y(r,n),s.next=26;break;case 23:s.prev=23,s.t0=s.catch(0),console.error(s.t0);case 26:case 27:case"end":return s.stop()}}),null,null,[[0,23]])},primary:!0,type:"submit"},"Sign"))),r.a.createElement("div",{style:{whiteSpace:"pre-line"}},r.a.createElement(O.a,{as:"h3"},"Signature: "),b.hexThumbSignature,r.a.createElement("h3",null,"Verification: ","".concat(B))),r.a.createElement("h2",null,"Select Root CA to validate your certification."),r.a.createElement(ne.a,null,r.a.createElement(ne.a.Field,null,r.a.createElement(re.a,{placeholder:"Select from registered CA",fluid:!0,label:"CAOptions",onChange:Q,search:!0,selection:!0,state:"CAIndex",options:u})),r.a.createElement(ne.a.Field,null,r.a.createElement(j.a,{onClick:function(){var e,a,n,r,l,o,s,u,m,d,p;return i.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,i.a.awrap(c.getCrypto(P));case 2:return e=f.sent,f.next=5,i.a.awrap(e.certStorage.getItem(k));case 5:return a=f.sent,f.next=8,i.a.awrap(e.certStorage.exportCert("PEM",a));case 8:return n=f.sent,r=Object(Ce.a)(n),f.next=12,i.a.awrap(t.query.certificateModule.cAStore(w+1));case 12:return l=f.sent,o=Object(Ce.a)(je.hex2a(l)),s=new Oe.CertificateChainValidationEngine({certs:[r],trustedCerts:[o]}),f.next=17,i.a.awrap(s.verify());case 17:u=f.sent,m=u.result,d=u.resultCode,p=u.resultMessage,console.log(m,d,p),z({verified:B,validated:m}),D(m?"Validation Successful!":"Error: ".concat(p,"."));case 24:case"end":return f.stop()}}))},primary:!0,type:"submit"},"Validate Certificate"))),W,r.a.createElement(ne.a,null,r.a.createElement(ne.a.Field,null,r.a.createElement(j.a,{onClick:function(){var e,n,r,l,o,s,u,m,d,p;return i.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:return e=a.getPair(y),h.next=3,i.a.awrap(c.getCrypto(P));case 3:return n=h.sent,h.next=6,i.a.awrap(n.certStorage.getItem(k));case 6:return r=h.sent,h.next=9,i.a.awrap(n.certStorage.exportCert("raw",r));case 9:return l=h.sent,h.next=12,i.a.awrap(n.subtle.digest("SHA-256",l));case 12:return o=h.sent,s=Se.Convert.ToHex(o),h.next=16,i.a.awrap(t.query.certificateModule.cAStore(w+1));case 16:return u=h.sent,m=Object(Ce.a)(je.hex2a(u)),h.next=20,i.a.awrap(n.subtle.digest("SHA-256",m.tbs));case 20:return d=h.sent,p=Se.Convert.ToHex(d),console.log("hexThumbPub: ",s),console.log("hexThumbCA: ",p),f("Sending..."),h.next=27,i.a.awrap(t.tx.certificateModule.registerAccount("0x"+p,"0x"+s,"0x"+x).signAndSend(e,(function(e){var t=e.status;t.isFinalized?f("Completed at block hash #".concat(t.asFinalized.toString())):f("Current transfer status: ".concat(t.type))})).catch((function(e){f(":( transaction failed"),console.error("ERROR:",e)})));case 27:case"end":return h.stop()}}))},primary:!0,disabled:!(y&&k&&x&&B&&_),type:"submit"},"Register"))),p)}function Ae(e){var t=/CN=(.+),?/i.exec(e);return t?t[1]:"Unknown"}var Fe=a(1237),Re=a(262);a(263);function Te(e){var t=e.api,a=e.keyring,c=a.getPairs().map((function(e){return{key:e.address,value:e.address,text:e.meta.name.toUpperCase()}})),l=Object(n.useState)({header:"",content:"",success:!1,error:!1,warning:!1}),o=Object(s.a)(l,2),u=o[0],m=o[1],d=Object(n.useState)({addressFrom:"",data:"",pem:""}),p=Object(s.a)(d,2),f=p[0],h=p[1],E=f.addressFrom,b=f.data,v=f.pem,y=function(e,t){h((function(e){return Object($.a)({},e,Object(g.a)({},t.state,t.value))}))};return r.a.createElement(F.a,null,r.a.createElement(ne.a,null,r.a.createElement(ne.a.Field,null,r.a.createElement(re.a,{placeholder:"Select from your accounts",fluid:!0,label:"From",onChange:y,search:!0,selection:!0,state:"addressFrom",options:c})),r.a.createElement(ne.a.Field,null,r.a.createElement(K.a,{label:"Data",fluid:!0,onChange:y,state:"data",type:"string"})),r.a.createElement(ne.a.Field,{control:Fe.a,onChange:y,state:"pem",label:"pem",placeholder:"Paste a PEM formatted text."}),r.a.createElement(ne.a.Field,null,r.a.createElement(j.a,{onClick:function(){var e,n,r,c,l;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,e=a.getPair(E),n=Object(Ce.a)(v),o.next=5,i.a.awrap(crypto.subtle.digest("SHA-256",n.tbs));case 5:return r=o.sent,c=Re.Convert.ToHex(r),console.log(c),console.log(n.tbs),l=Object(Ce.b)(v),console.log(l),o.next=13,i.a.awrap(t.tx.certificateModule.registerCa("0x"+c,l,b).signAndSend(e,(function(e){var t=e.status;t.isFinalized?m(Object($.a)({},u,{header:"Transaction Completed!",content:"Completed at block hash #".concat(t.asFinalized.toString()),success:!0})):m(Object($.a)({},u,{header:"",content:"Current transfer status: ".concat(t.type),warning:!0}))})).catch((function(e){m(Object($.a)({},u,{header:"Error",content:":( transaction failed. Check the log.",error:!0})),console.error("ERROR:",e)})));case 13:o.next=19;break;case 15:o.prev=15,o.t0=o.catch(0),m(Object($.a)({},u,{header:"Error",content:"Registration failed: ".concat(o.t0),error:!0})),console.error("ERROR:",o.t0);case 19:case 20:case"end":return o.stop()}}),null,null,[[0,15]])},primary:!0,type:"submit"},"Register"))),u.content&&r.a.createElement(ce.a,{success:u.success,error:u.error,warning:u.warning,header:u.header,content:u.content}))}a(262),a(263);function Pe(e){var t=e.api,a=Object(n.useState)(0),c=Object(s.a)(a,2),l=c[0],o=c[1],i=Object(n.useState)([]),m=Object(s.a)(i,2),d=m[0],p=m[1];return Object(n.useEffect)((function(){var e;return t.query.certificateModule.cAHashes((function(e){o(e.length),p(e)})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}),[]),r.a.createElement(F.a.Group,null,r.a.createElement(F.a,null,r.a.createElement("h1",null,"Registered Central Authority: ",l)),r.a.createElement(F.a.Group,null,r.a.createElement(X.a,{celled:!0,striped:!0},r.a.createElement(X.a.Header,null,r.a.createElement(X.a.Row,null,r.a.createElement(X.a.HeaderCell,null,"ID"),r.a.createElement(X.a.HeaderCell,null,"CAHash"))),r.a.createElement(X.a.Body,null,d.map((function(e,t){return r.a.createElement(X.a.Row,{key:t},r.a.createElement(X.a.Cell,{textAlign:"right"},r.a.createElement(u.b,{to:"/certificate/".concat(t+1,"/").concat(e.toString())},t+1)),r.a.createElement(X.a.Cell,null,e.toString()))}))))))}var He=["https://peculiarventures.github.io/pv-webcrypto-tests/src/asmcrypto.js","https://peculiarventures.github.io/pv-webcrypto-tests/src/elliptic.js","https://cdn.rawgit.com/dcodeIO/protobuf.js/6.8.0/dist/protobuf.js","https://unpkg.com/@webcrypto-local/client@1.0.14/build/webcrypto-socket.js","https://peculiarventures.github.io/pv-webcrypto-tests/src/webcrypto-liner.min.js","https://cdn.rawgit.com/jakearchibald/idb/97e4e878/lib/idb.js"];function Me(e){var t=e.api,a=e.keyring,c=Object(n.useState)(),l=Object(s.a)(c,2),o=l[0],u=l[1],m=Object(n.useState)(!1),d=Object(s.a)(m,2),p=d[0],f=d[1],h=Object(n.useState)([]),E=Object(s.a)(h,2),b=E[0],v=E[1],g=[{menuItem:{key:"providers",icon:"rss",content:"Providers"},render:function(){return r.a.createElement(de.a.Pane,null,r.a.createElement(we,{ws:o,wsReady:p}))}},{menuItem:{key:"register",icon:"book",content:"Register"},render:function(){return r.a.createElement(de.a.Pane,null,r.a.createElement(Ie,{api:t,keyring:a,ws:o,caOptions:b}))}},{menuItem:{key:"centralAuthority",icon:"building",content:"Central Authority"},render:function(){return r.a.createElement(de.a.Pane,null,r.a.createElement(Pe,{api:t}))}},{menuItem:{key:"registerCA",icon:"building",content:"Register CA"},render:function(){return r.a.createElement(de.a.Pane,null,r.a.createElement(Te,{api:t,keyring:a}))}}];Object(n.useEffect)((function(){for(var e in He){var a=document.createElement("script");a.async=!1,a.src=He[e],document.getElementsByTagName("body")[0].appendChild(a)}var n;return t.query.certificateModule.cAData((function(e){v(e)})).then((function(e){n=e})).catch(console.error),function(){return n&&n()}}),[]),Object(n.useEffect)((function(){window.WebcryptoSocket&&y()}),[window.WebcryptoSocket]);var y=function(){var e,t;return i.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e=window.WebcryptoSocket,a.t0=e.SocketProvider,a.next=4,i.a.awrap(e.BrowserStorage.create());case 4:a.t1=a.sent,a.t2={storage:a.t1},t=new a.t0(a.t2),u(t),f(!0);case 9:case"end":return a.stop()}}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(de.a,{menu:{color:"grey",inverted:!0},panes:g}))}function Ve(e){var t=e.activeItem,a=e.setActiveItem,n=function(e,t){var n=t.name;return a(n)};return r.a.createElement(U.a,{vertical:!0},r.a.createElement(U.a.Item,{name:"home",active:"home"===t,onClick:n}),r.a.createElement(U.a.Item,null,r.a.createElement(U.a.Header,null,"Preparation"),r.a.createElement(U.a.Menu,null,r.a.createElement(U.a.Item,{name:"create account",active:"create account"===t,onClick:n}))),r.a.createElement(U.a.Item,null,r.a.createElement(U.a.Header,null,"Vote"),r.a.createElement(U.a.Menu,null,r.a.createElement(U.a.Item,{name:"create your first vote",active:"create your first vote"===t,onClick:n}),r.a.createElement(U.a.Item,{name:"create a vote with CA certificate",active:"create a vote with CA certificatehon"===t,onClick:n}),r.a.createElement(U.a.Item,{name:"create a quadratic vote",active:"create a quadratic vote"===t,onClick:n}))),r.a.createElement(U.a.Item,null,r.a.createElement(U.a.Header,null,"Ballot"),r.a.createElement(U.a.Menu,null,r.a.createElement(U.a.Item,{name:"cast your first ballot",active:"cast your first ballot"===t,onClick:n}),r.a.createElement(U.a.Item,{name:"cast a lockvote",active:"cast a lockvote"===t,onClick:n}))),r.a.createElement(U.a.Item,null,r.a.createElement(U.a.Header,null,"Certificate"),r.a.createElement(U.a.Menu,null,r.a.createElement(U.a.Item,{name:"register your account",active:"register your account"===t,onClick:n}),r.a.createElement(U.a.Item,{name:"register new CA",active:"register new CA"===t,onClick:n}))),r.a.createElement(U.a.Item,{name:"FAQ",active:"FAQ"===t,onClick:n}))}function Ne(){var e={fontSize:"15px",lineHeight:"1.8"};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,r.a.createElement("code",null,"M-Governance Tutorial")),r.a.createElement("h2",null,r.a.createElement("code",null,"Blockchain-based decision making platform")),r.a.createElement("p",{style:e},"M-Governance\u306f\u30d6\u30ed\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u4e0a\u3067\u306e\u610f\u601d\u96c6\u7d04\u3092\u3082\u3063\u3068\u7c21\u5358\u306b\u884c\u3046\u305f\u3081\u306e\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u3067\u3059\u3002 \u73fe\u72b6\u306e\u30d6\u30ed\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u306e\u610f\u601d\u6c7a\u5b9a\u306f\u7d50\u679c\u304c\u6c7a\u3081\u305f\u4e8b\u306e\u5b9f\u884c\u306b\u76f4\u7d50\u305b\u305a\u3001\u6700\u7d42\u7684\u306a\u6c7a\u5b9a\u306f\u4e2d\u592e\u4e3b\u4f53\u306b\u59d4\u306d\u3089\u308c\u3066\u3044\u307e\u3059\u3002",r.a.createElement("br",null),"M\u30fcGovernance\u3067\u306f\u610f\u601d\u6c7a\u5b9a\u7d50\u679c\u306fPolkadot\u3092\u901a\u3059\u3053\u3068\u3067\u3001\u4ed6\u306e\u30d6\u30ed\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u306e\u30b9\u30de\u30fc\u30c8\u30b3\u30f3\u30c8\u30e9\u30af\u30c8\u3084\u30e9\u30f3\u30bf\u30a4\u30e0\u30a4\u30d9\u30f3\u30c8\u3092\u81ea\u5f8b\u7684\u306b\u30c8\u30ea\u30ac\u30fc\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002"),r.a.createElement("p",{style:e},"\u3055\u3089\u306b\u6700\u65b0\u306e\u30af\u30a2\u30c9\u30e9\u30c6\u30a3\u30c3\u30af\u6295\u7968\u3084\u30ed\u30c3\u30af\u6295\u7968\u306a\u3069\u3082\u63d0\u4f9b\u3057\u3066\u304a\u308a\u3001\u610f\u601d\u6c7a\u5b9a\u4e8b\u9805\u306b\u3068\u3063\u3066\u30cf\u30a4\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306a\u30e2\u30c7\u30eb\u3084\u30c4\u30fc\u30eb\u3092\u63a1\u7528\u3067\u304d\u307e\u3059\u3002 CA(Central Authority)\u306b\u3088\u308a\u7f72\u540d\u3055\u308c\u305f\u96fb\u5b50\u8a3c\u660e\u66f8\u3092\u4f7f\u3063\u3066Permissioned\u306a\u6295\u7968\u3092\u884c\u3046\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002",r.a.createElement("br",null),"\u3053\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u306f\u6295\u7968\u306e\u4f5c\u6210\u3001\u6295\u7968\u3001CA\u306e\u767b\u9332\u306a\u3069\u3092\u5b66\u3079\u307e\u3059\u3002"))}function ze(){var e=Object(n.useState)("home"),t=Object(s.a)(e,2),a=t[0],c=t[1];return r.a.createElement(F.a,null,r.a.createElement(T.a,null,r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Column,{width:3},r.a.createElement(Ve,{setActiveItem:c,activeItem:a})),r.a.createElement(T.a.Column,{width:10},r.a.createElement(b.a,null,function(){switch(a){case"home":return r.a.createElement(Ne,null);default:return a}}())))))}a(1223);var Be=a(173),_e={height:"240px",width:"60%",border:"1px solid #ccc",font:"16px/26px Georgia, Garamond, Serif",overflow:"auto"};function qe(e){var t=e.api,a=(e.keyring,Object(m.f)()),c=a.index,l=a.hash,o=Object(n.useState)([]),u=Object(s.a)(o,2),d=u[0],p=u[1],f=Object(n.useState)(),h=Object(s.a)(f,2),E=h[0],b=h[1],v=Object(n.useState)(""),g=Object(s.a)(v,2),y=g[0],x=g[1],k=Object(n.useState)({}),w=Object(s.a)(k,2),C=w[0],S=w[1];Object(n.useEffect)((function(){var e;return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.awrap(t.queryMulti([[t.query.certificateModule.accountsByCAHash,l],[t.query.certificateModule.cADataByIndex,c],[t.query.certificateModule.cAStore,c]],(function(e){var t=Object(s.a)(e,3),a=t[0],n=t[1],r=t[2];p(a),b(Be.hex2a(n));var c=Be.hex2a(r);x(c),S(Object(Ce.a)(c))})));case 2:case"end":return e.stop()}})).then((function(t){e=t,console.log(C)})).catch(console.error),function(){return e&&e()}}),[]);return r.a.createElement(F.a,null,r.a.createElement("h1",null,"CertificateView #",c),r.a.createElement("ul",null,r.a.createElement("li",null,"Hash: ",l),r.a.createElement("li",null,"Data: ",E),r.a.createElement("li",null,"notBefore: ",C.notBefore&&C.notBefore.value.toString()),r.a.createElement("li",null,"notAfter: ",C.notAfter&&C.notAfter.value.toString()),r.a.createElement("li",null,"version: ",C.version&&C.version.toString()),r.a.createElement("li",null,"issuer:",r.a.createElement("ol",null,C.issuer&&C.issuer.typesAndValues.map((function(e,t){return r.a.createElement("li",{key:t},e.value.valueBlock.value.toString())})))),r.a.createElement("li",null,"Accounts: ",d.length,r.a.createElement("ul",null,d.map((function(e,t){return r.a.createElement("li",{key:t},e.toString())})))),r.a.createElement("li",null,"Votes"),r.a.createElement("li",null,"Pem: ",r.a.createElement("div",{style:_e},r.a.createElement("p",null,y.replace(/(.{150})/g,"$1\n"))))))}l.a.render(r.a.createElement((function(){var e,t=Object(n.useState)(),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(),p=Object(s.a)(o,2),g=p[0],y=p[1],x=Object(n.useState)("0"),k=Object(s.a)(x,2),w=k[0],C=k[1];return console.log("WS endpoint=wss://m-governance.org"),Object(n.useEffect)((function(){var e=new d.WsProvider("wss://m-governance.org");d.ApiPromise.create({provider:e,types:v}).then((function(e){l(e),e.isReady.then((function(){return y(!0)}))})).catch((function(e){return console.error(e)}))}),[]),Object(n.useEffect)((function(){f.a.loadAll({isDevelopment:!0})}),[]),Object(n.useEffect)((function(){if(g){var e;return i.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c.rpc.chain.subscribeNewHeads((function(e){C(e.number)})));case 1:case"end":return e.stop()}})).then((function(t){e=t})).catch(console.error),function(){return e&&e()}}}),[g]),g?r.a.createElement(b.a,{fluid:!0},r.a.createElement(ae,{api:c,blockNumber:w}),r.a.createElement(u.a,null,r.a.createElement(J,null),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/vote/:id",children:r.a.createElement(ye,{api:c,keyring:f.a,blockNumber:w})}),r.a.createElement(m.a,{path:"/vote"},r.a.createElement(me,{api:c,keyring:f.a,blockNumber:w}),r.a.createElement(ue,{api:c,keyring:f.a})),r.a.createElement(m.a,{path:"/tutorial"},r.a.createElement(ze,null)),r.a.createElement(m.a,{path:"/transfer"},r.a.createElement(Z,{keyring:f.a,api:c}),r.a.createElement(le,{api:c,keyring:f.a})),r.a.createElement(m.a,{path:"/certificate/:index/:hash",children:r.a.createElement(qe,{api:c,keyring:f.a})}),r.a.createElement(m.a,{path:"/certificate"},r.a.createElement(Me,{api:c,keyring:f.a})),r.a.createElement(m.a,{path:"/"},r.a.createElement(L,null)))),r.a.createElement(Y,null)):(e="Connecting to the blockchain",r.a.createElement(h.a,{active:!0},r.a.createElement(E.a,{size:"small"},e)))}),null),document.getElementById("root"))},123:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return l}));var n=a(263),r=a(0),c=function(t){var a=function(t){var a=e.from(t,"base64");return new Uint8Array(a).buffer}(l(t)),c=r.fromBER(a);return new n.Certificate({schema:c.result})};function l(e){return e.replace(/((\n|\r)?-----BEGIN CERTIFICATE-----(\n|\r)?|(\n|\r)?-----END CERTIFICATE-----(\n|\r)?)/g,"").trim()}}).call(this,a(47).Buffer)},173:function(e,t,a){"use strict";function n(e){for(var t=e.toString(),a="",n=0;n<t.length&&"00"!==t.substr(n,2);n+=2)a+=String.fromCharCode(parseInt(t.substr(n,2),16));return a}a.r(t),a.d(t,"hex2a",(function(){return n}))},545:function(e,t,a){e.exports=a.p+"static/media/headerImage.921a8a97.jpg"},546:function(e,t,a){e.exports=a.p+"static/media/image-01.13287163.jpg"},555:function(e,t,a){e.exports=a.p+"static/media/logo.86ad1536.png"},581:function(e,t,a){e.exports=a(1224)},608:function(e,t){},650:function(e,t){},652:function(e,t){},683:function(e,t){},749:function(e,t){}},[[581,1,2]]]);
//# sourceMappingURL=main.31d4951d.chunk.js.map